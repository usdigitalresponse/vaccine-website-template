!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=40)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.wp.htmlEntities}()},function(e,t,n){var r=n(32),o=n(33),c=n(34),i=n(35);e.exports=function(e){return r(e)||o(e)||c(e)||i()}},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t,n){var r=n(3);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(27);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(28),o=n(29),c=n(30);e.exports=function(e){var t=o();return function(){var n,o=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return c(this,n)}}},function(e){e.exports=JSON.parse('{"name":"homepage-articles","category":"newspack","attributes":{"className":{"type":"string","default":""},"showExcerpt":{"type":"boolean","default":true},"excerptLength":{"type":"number","default":55},"showDate":{"type":"boolean","default":true},"showImage":{"type":"boolean","default":true},"showCaption":{"type":"boolean","default":false},"imageShape":{"type":"string","default":"landscape"},"minHeight":{"type":"integer","default":0},"moreButton":{"type":"boolean","default":false},"moreButtonText":{"type":"string","default":""},"showAuthor":{"type":"boolean","default":true},"showAvatar":{"type":"boolean","default":true},"showCategory":{"type":"boolean","default":false},"postLayout":{"type":"string","default":"list"},"columns":{"type":"integer","default":3},"postsToShow":{"type":"integer","default":3},"mediaPosition":{"type":"string","default":"top"},"authors":{"type":"array","default":[],"items":{"type":"integer"}},"categories":{"type":"array","default":[],"items":{"type":"integer"}},"tags":{"type":"array","default":[],"items":{"type":"integer"}},"tagExclusions":{"type":"array","default":[],"items":{"type":"integer"}},"specificPosts":{"type":"array","default":[],"items":{"type":"integer"}},"typeScale":{"type":"integer","default":4},"imageScale":{"type":"integer","default":3},"mobileStack":{"type":"boolean","default":false},"sectionHeader":{"type":"string","default":""},"specificMode":{"type":"boolean","default":false},"textColor":{"type":"string","default":""},"customTextColor":{"type":"string","default":""},"singleMode":{"type":"boolean","default":false},"showSubtitle":{"type":"boolean","default":false}}}')},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";(function(e){var r,o=n(25);r="undefined"!=typeof self?self:"undefined"!=typeof window||"undefined"!=typeof window?window:e;var c=Object(o.a)(r);t.a=c}).call(this,n(37)(e))},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c=typeof r;if("string"===c||"number"===c)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===c)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){!function(){e.exports=this.wp.date}()},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(31),o=n(4);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r=n(23);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var r=n(23);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(11),o=n.n(r),c=n(17),i=n(1),a=n(18),s=n(0),u=n(2),l=n(13),f=n.n(l),p=n(19),d=n.n(p),h=n(4),g=n.n(h),b=n(14),m=n.n(b),v=n(15),y=n.n(v),O=n(3),w=n.n(O),j=n(24),_=n.n(j),E=n(8),k=n.n(E),S=n(9),x=n(6),C=n(7),P=n.n(C),A=n(5),T=(n(36),function(e){m()(n,e);var t=y()(n);function n(e){var r;return f()(this,n),r=t.call(this,e),w()(g()(r),"isFetchingInfoOnLoad",(function(){var e=r.props,t=e.tokens,n=e.fetchSavedInfo;return Boolean(t.length&&n)})),r.state={suggestions:[],validValues:{},loading:r.isFetchingInfoOnLoad()},r.debouncedUpdateSuggestions=Object(A.debounce)(r.updateSuggestions,500),r}return d()(n,[{key:"componentDidMount",value:function(){var e=this;if(this.isFetchingInfoOnLoad()){var t=this.props,n=t.tokens;(0,t.fetchSavedInfo)(n).then((function(t){var n=e.state.validValues;t.forEach((function(e){n[e.value]=e.label})),e.setState({validValues:n,loading:!1})}))}}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest,this.debouncedUpdateSuggestions.cancel()}},{key:"getLabelsForValues",value:function(e){var t=this.state.validValues;return e.reduce((function(e,n){return t[n]?[].concat(P()(e),[t[n]]):e}),[])}},{key:"getValuesForLabels",value:function(e){var t=this.state.validValues;return e.map((function(e){return Object.keys(t).find((function(n){return t[n]===e}))}))}},{key:"updateSuggestions",value:function(e){var t=this,n=this.props.fetchSuggestions;n&&this.setState({loading:!0},(function(){var r=n(e);r.then((function(e){if(t.suggestionsRequest===r){var n=t.state.validValues,o=[];e.forEach((function(e){o.push(e.label),n[e.value]=e.label})),t.setState({suggestions:o,validValues:n,loading:!1})}})).catch((function(){t.suggestionsRequest===r&&t.setState({loading:!1})})),t.suggestionsRequest=r}))}},{key:"handleOnChange",value:function(e){(0,this.props.onChange)(this.getValuesForLabels(e))}},{key:"getTokens",value:function(){var e=this.props.tokens;return this.getLabelsForValues(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.help,r=t.label,o=void 0===r?"":r,c=this.state,i=c.suggestions,a=c.loading;return Object(s.createElement)("div",{className:"autocomplete-tokenfield"},Object(s.createElement)(u.FormTokenField,{value:this.getTokens(),suggestions:i,onChange:function(t){return e.handleOnChange(t)},onInputChange:function(t){return e.debouncedUpdateSuggestions(t)},label:o}),a&&Object(s.createElement)(u.Spinner,null),n&&Object(s.createElement)("p",{className:"autocomplete-tokenfield__help"},n))}}]),n}(s.Component)),I=function(e){m()(n,e);var t=y()(n);function n(){var e;f()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),w()(g()(e),"state",{showAdvancedFilters:!1}),w()(g()(e),"fetchPostSuggestions",(function(e){var t=window&&window.newspack_blocks_data&&window.newspack_blocks_data._experimental?"/newspack-blocks/v1/specific-posts":"/wp/v2/search";return k()({path:Object(S.addQueryArgs)(t,{search:e,per_page:20,_fields:"id,title",type:"post"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(x.decodeEntities)(e.title)||Object(i.__)("(no title)","full-site-editing")}}))}))})),w()(g()(e),"fetchSavedPosts",(function(e){return k()({path:Object(S.addQueryArgs)("/wp/v2/posts",{per_page:100,include:e.join(","),_fields:"id,title"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(x.decodeEntities)(e.title.rendered)||Object(i.__)("(no title)","full-site-editing")}}))}))})),w()(g()(e),"fetchAuthorSuggestions",(function(e){return k()({path:Object(S.addQueryArgs)("/wp/v2/users",{search:e,per_page:20,_fields:"id,name"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(x.decodeEntities)(e.name)||Object(i.__)("(no name)","full-site-editing")}}))}))})),w()(g()(e),"fetchSavedAuthors",(function(e){return k()({path:Object(S.addQueryArgs)("/wp/v2/users",{per_page:100,include:e.join(","),_fields:"id,name"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(x.decodeEntities)(e.name)||Object(i.__)("(no name)","full-site-editing")}}))}))})),w()(g()(e),"fetchCategorySuggestions",(function(e){return k()({path:Object(S.addQueryArgs)("/wp/v2/categories",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(x.decodeEntities)(e.name)||Object(i.__)("(no title)","full-site-editing")}}))}))})),w()(g()(e),"fetchSavedCategories",(function(e){return k()({path:Object(S.addQueryArgs)("/wp/v2/categories",{per_page:100,_fields:"id,name",include:e.join(",")})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(x.decodeEntities)(e.name)||Object(i.__)("(no title)","full-site-editing")}}))}))})),w()(g()(e),"fetchTagSuggestions",(function(e){return k()({path:Object(S.addQueryArgs)("/wp/v2/tags",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(x.decodeEntities)(e.name)||Object(i.__)("(no title)","full-site-editing")}}))}))})),w()(g()(e),"fetchSavedTags",(function(e){return k()({path:Object(S.addQueryArgs)("/wp/v2/tags",{per_page:100,_fields:"id,name",include:e.join(",")})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(x.decodeEntities)(e.name)||Object(i.__)("(no title)","full-site-editing")}}))}))})),w()(g()(e),"render",(function(){var t=e.props,n=t.specificMode,r=t.onSpecificModeChange,o=t.specificPosts,c=t.onSpecificPostsChange,a=t.authors,l=t.onAuthorsChange,f=t.categories,p=t.onCategoriesChange,d=t.tags,h=t.onTagsChange,g=t.tagExclusions,b=t.onTagExclusionsChange,m=t.enableSpecific,v=e.state.showAdvancedFilters;return[m&&Object(s.createElement)(u.ToggleControl,{key:"specificMode",checked:n,onChange:r,label:Object(i.__)("Choose Specific Posts","full-site-editing")}),n&&Object(s.createElement)(T,{key:"posts",tokens:o||[],onChange:c,fetchSuggestions:e.fetchPostSuggestions,fetchSavedInfo:e.fetchSavedPosts,label:Object(i.__)("Posts","full-site-editing"),help:Object(i.__)("Begin typing post title, click autocomplete result to select.","full-site-editing")}),!n&&Object(s.createElement)(u.QueryControls,_()({key:"queryControls"},e.props)),!n&&l&&Object(s.createElement)(T,{key:"authors",tokens:a||[],onChange:l,fetchSuggestions:e.fetchAuthorSuggestions,fetchSavedInfo:e.fetchSavedAuthors,label:Object(i.__)("Authors","full-site-editing")}),!n&&p&&Object(s.createElement)(T,{key:"categories",tokens:f||[],onChange:p,fetchSuggestions:e.fetchCategorySuggestions,fetchSavedInfo:e.fetchSavedCategories,label:Object(i.__)("Categories","full-site-editing")}),!n&&h&&Object(s.createElement)(T,{key:"tags",tokens:d||[],onChange:h,fetchSuggestions:e.fetchTagSuggestions,fetchSavedInfo:e.fetchSavedTags,label:Object(i.__)("Tags","full-site-editing")}),!n&&b&&Object(s.createElement)("p",{key:"toggle-advanced-filters"},Object(s.createElement)(u.Button,{isLink:!0,onClick:function(){return e.setState({showAdvancedFilters:!v})}},v?Object(i.__)("Hide Advanced Filters","full-site-editing"):Object(i.__)("Show Advanced Filters","full-site-editing"))),!n&&b&&v&&Object(s.createElement)(T,{key:"tag-exclusion",tokens:g||[],onChange:b,fetchSuggestions:e.fetchTagSuggestions,fetchSavedInfo:e.fetchSavedTags,label:Object(i.__)("Excluded Tags","full-site-editing")})]})),e}return n}(s.Component);I.defaultProps={enableSpecific:!0,specificPosts:[],authors:[],categories:[],tags:[],tagExclusions:[]};var R=I,N=n(20),L=function(){return Math.random().toString(36).substring(7).split("").join(".")},B={INIT:"@@redux/INIT"+L(),REPLACE:"@@redux/REPLACE"+L(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+L()}};function M(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var z=function(e){return"@@redux-saga/"+e},V=z("CANCEL_PROMISE"),q=z("CHANNEL_END"),Q=z("IO"),G=z("MATCH"),K=z("MULTICAST"),W=z("SAGA_ACTION"),J=z("SELF_CANCELLATION"),X=z("TASK"),Y=z("TASK_CANCEL"),$=z("TERMINATE"),Z=z("LOCATION");function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=function(e){return null==e},ne=function(e){return null!=e},re=function(e){return"function"==typeof e},oe=function(e){return"string"==typeof e},ce=Array.isArray,ie=function(e){return e&&re(e.then)},ae=function(e){return e&&re(e.next)&&re(e.throw)},se=function e(t){return t&&(oe(t)||fe(t)||re(t)||ce(t)&&t.every(e))},ue=function(e){return e&&re(e.take)&&re(e.close)},le=function(e){return re(e)&&e.hasOwnProperty("toString")},fe=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var pe=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,e,t)}));return r[V]=function(){clearTimeout(n)},r},de=function(e){return function(){return e}}(!0),he=function(){};var ge=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var be=function(e,t){ee(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function me(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function ve(e){var t=!1;return function(){t||(t=!0,e())}}var ye=function(e){throw e},Oe=function(e){return{value:e,done:!0}};function we(e,t,n){void 0===t&&(t=ye),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:Oe,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function je(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var _e=function(e){return Array.apply(null,new Array(e))},Ee=function(e){return function(t){return e(Object.defineProperty(t,W,{value:!0}))}},ke=function(e){return e===$},Se=function(e){return e===Y},xe=function(e){return ke(e)||Se(e)};function Ce(e,t){var n=Object.keys(e),r=n.length;var o,c=0,i=ce(e)?_e(r):{},a={};return n.forEach((function(e){var n=function(n,a){o||(a||xe(n)?(t.cancel(),t(n,a)):(i[e]=n,++c===r&&(o=!0,t(i))))};n.cancel=he,a[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return a[e].cancel()})))},a}function Pe(e){return{name:e.name||"anonymous",location:Ae(e)}}function Ae(e){return e[Z]}function Te(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,o=0,c=0,i=function(t){n[o]=t,o=(o+1)%e,r++},a=function(){if(0!=r){var t=n[c];return n[c]=null,r--,c=(c+1)%e,t}},s=function(){for(var e=[];r;)e.push(a());return e};return{isEmpty:function(){return 0==r},put:function(a){var u;if(r<e)i(a);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=a,c=o=(o+1)%e;break;case 4:u=2*e,n=s(),r=n.length,o=n.length,c=0,n.length=u,e=u,i(a)}},take:a,flush:s}}var Ie=function(e){return Te(e,4)},Re="TAKE",Ne="PUT",Le="CALL",Be="FORK",Me="CANCEL",De=function(e,t){var n;return(n={})[Q]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function He(e,t){return void 0===e&&(e="*"),se(e)?De(Re,{pattern:e}):ue(n=e)&&n[K]&&ne(t)&&se(t)?De(Re,{channel:e,pattern:t}):ue(e)?De(Re,{channel:e}):void 0;var n}function Fe(e,t){return te(t)&&(t=e,e=void 0),De(Ne,{channel:e,action:t})}function Ue(e,t){var n,r=null;return re(e)?n=e:(ce(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&oe(n)&&re(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return De(Le,Ue(e,n))}function Ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return De(Be,Ue(e,n))}function qe(e){return void 0===e&&(e=J),De(Me,e)}var Qe=ze.bind(null,pe),Ge=function(e){return{done:!0,value:e}},Ke={};function We(e){return ue(e)?"channel":le(e)?String(e):re(e)?e.name:String(e)}function Je(e,t,n){var r,o,c,i=t;function a(t,n){if(i===Ke)return Ge(t);if(n&&!o)throw i=Ke,n;r&&r(t);var a=n?e[o](n):e[i]();return i=a.nextState,c=a.effect,r=a.stateUpdater,o=a.errorState,i===Ke?Ge(t):c}return we(a,(function(e){return a(null,e)}),n)}function Xe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var c,i,a={done:!1,value:He(e)},s=function(e){return{done:!1,value:Ve.apply(void 0,[t].concat(r,[e]))}},u=function(e){return{done:!1,value:qe(e)}},l=function(e){return c=e},f=function(e){return i=e};return Je({q1:function(){return{nextState:"q2",effect:a,stateUpdater:f}},q2:function(){return c?{nextState:"q3",effect:u(c)}:{nextState:"q1",effect:s(i),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:s(i),stateUpdater:l}}},"q1","takeLatest("+We(e)+", "+t.name+")")}function Ye(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Ve.apply(void 0,[Xe,e,t].concat(r))}function $e(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var Ze=$e,et=[],tt=0;function nt(e){try{ct(),e()}finally{it()}}function rt(e){et.push(e),tt||(ct(),at())}function ot(e){try{return ct(),e()}finally{at()}}function ct(){tt++}function it(){tt--}function at(){var e;for(it();!tt&&void 0!==(e=et.shift());)nt(e)}var st=function(e){return function(t){return e.some((function(e){return dt(e)(t)}))}},ut=function(e){return function(t){return e(t)}},lt=function(e){return function(t){return t.type===String(e)}},ft=function(e){return function(t){return t.type===e}},pt=function(){return de};function dt(e){var t="*"===e?pt:oe(e)?lt:ce(e)?st:le(e)?lt:re(e)?ut:fe(e)?ft:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var ht={type:q},gt=function(e){return e&&e.type===q};function bt(e){void 0===e&&(e=Ie());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(ht):e.isEmpty()?(n.push(r),r.cancel=function(){me(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(ht):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,o=e.length;r<o;r++){(0,e[r])(ht)}}}}}function mt(){var e,t,n,r,o,c,i=(t=!1,r=n=[],o=function(){r===n&&(r=n.slice())},c=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(ht)}))},(e={})[K]=!0,e.put=function(e){if(!t)if(gt(e))c();else for(var o=n=r,i=0,a=o.length;i<a;i++){var s=o[i];s[G](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=pt),t?e(ht):(e[G]=n,o(),r.push(e),e.cancel=ve((function(){o(),me(r,e)})))},e.close=c,e),a=i.put;return i.put=function(e){e[W]?a(e):rt((function(){a(e)}))},i}function vt(e,t){var n=e[V];re(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var yt,Ot=0,wt=function(){return++Ot};function jt(e){e.isRunning()&&e.cancel()}var _t=((yt={}).TAKE=function(e,t,n){var r=t.channel,o=void 0===r?e.channel:r,c=t.pattern,i=t.maybe,a=function(e){e instanceof Error?n(e,!0):!gt(e)||i?n(e):n($)};try{o.take(a,ne(c)?dt(c):null)}catch(s){return void n(s,!0)}n.cancel=a.cancel},yt.PUT=function(e,t,n){var r=t.channel,o=t.action,c=t.resolve;rt((function(){var t;try{t=(r?r.put:e.dispatch)(o)}catch(i){return void n(i,!0)}c&&ie(t)?vt(t,n):n(t)}))},yt.ALL=function(e,t,n,r){var o=r.digestEffect,c=Ot,i=Object.keys(t);if(0!==i.length){var a=Ce(t,n);i.forEach((function(e){o(t[e],c,a[e],e)}))}else n(ce(t)?[]:{})},yt.RACE=function(e,t,n,r){var o=r.digestEffect,c=Ot,i=Object.keys(t),a=ce(t)?_e(i.length):{},s={},u=!1;i.forEach((function(e){var t=function(t,r){u||(r||xe(t)?(n.cancel(),n(t,r)):(n.cancel(),u=!0,a[e]=t,n(a)))};t.cancel=he,s[e]=t})),n.cancel=function(){u||(u=!0,i.forEach((function(e){return s[e].cancel()})))},i.forEach((function(e){u||o(t[e],c,s[e],e)}))},yt.CALL=function(e,t,n,r){var o=t.context,c=t.fn,i=t.args,a=r.task;try{var s=c.apply(o,i);if(ie(s))return void vt(s,n);if(ae(s))return void Tt(e,s,a.context,Ot,Pe(c),!1,n);n(s)}catch(u){n(u,!0)}},yt.CPS=function(e,t,n){var r=t.context,o=t.fn,c=t.args;try{var i=function(e,t){te(e)?n(t):n(e,!0)};o.apply(r,c.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(a){n(a,!0)}},yt.FORK=function(e,t,n,r){var o=t.context,c=t.fn,i=t.args,a=t.detached,s=r.task,u=function(e){var t=e.context,n=e.fn,r=e.args;try{var o=n.apply(t,r);if(ae(o))return o;var c=!1;return we((function(e){return c?{value:e,done:!0}:(c=!0,{value:o,done:!ie(o)})}))}catch(i){return we((function(){throw i}))}}({context:o,fn:c,args:i}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Pe(t)}(u,c);ot((function(){var t=Tt(e,u,s.context,Ot,l,a,void 0);a?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},yt.JOIN=function(e,t,n,r){var o=r.task,c=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&me(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(ce(t)){if(0===t.length)return void n([]);var i=Ce(t,n);t.forEach((function(e,t){c(e,i[t])}))}else c(t,n)},yt.CANCEL=function(e,t,n,r){var o=r.task;t===J?jt(o):ce(t)?t.forEach(jt):jt(t),n()},yt.SELECT=function(e,t,n){var r=t.selector,o=t.args;try{n(r.apply(void 0,[e.getState()].concat(o)))}catch(c){n(c,!0)}},yt.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,o=bt(t.buffer),c=dt(r),i=function t(n){gt(n)||e.channel.take(t,c),o.put(n)},a=o.close;o.close=function(){i.cancel(),a()},e.channel.take(i,c),n(o)},yt.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},yt.FLUSH=function(e,t,n){t.flush(n)},yt.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},yt.SET_CONTEXT=function(e,t,n,r){var o=r.task;be(o.context,t),n()},yt);function Et(e,t){return e+"?"+t}function kt(e){var t=e.name,n=e.location;return n?t+"  "+Et(n.fileName,n.lineNumber):t}var St=null,xt=[],Ct=function(){St=null,xt.length=0},Pt=function(){var e,t,n,r,o,c,i,a=xt[0],s=xt.slice(1),u=a.crashedEffect?(e=a.crashedEffect,(t=Ae(e))?t.code+"  "+Et(t.fileName,t.lineNumber):""):null;return["The above error occurred in task "+kt(a.meta)+(u?" \n when executing effect "+u:"")].concat(s.map((function(e){return"    created by "+kt(e.meta)})),[(n=xt,r=function(e){return e.cancelledTasks},o=n,i=(c=[]).concat.apply(c,o.map(r)),i.length?["Tasks cancelled due to error:"].concat(i).join("\n"):"")]).join("\n")};function At(e,t,n,r,o,c,i){var a;void 0===i&&(i=he);var s,u,l=0,f=null,p=[],d=Object.create(n),h=function(e,t,n){var r,o=[],c=!1;function i(e){t(),s(),n(e,!0)}function a(t){o.push(t),t.cont=function(a,s){c||(me(o,t),t.cont=he,s?i(a):(t===e&&(r=a),o.length||(c=!0,n(r))))}}function s(){c||(c=!0,o.forEach((function(e){e.cont=he,e.cancel()})),o=[])}return a(e),{addTask:a,cancelAll:s,abort:i,getTasks:function(){return o}}}(t,(function(){p.push.apply(p,h.getTasks().map((function(e){return e.meta.name})))}),g);function g(t,n){if(n){if(l=2,(c={meta:o,cancelledTasks:p}).crashedEffect=St,xt.push(c),b.isRoot){var r=Pt();Ct(),e.onError(t,{sagaStack:r})}u=t,f&&f.reject(t)}else t===Y?l=1:1!==l&&(l=3),s=t,f&&f.resolve(t);var c;b.cont(t,n),b.joiners.forEach((function(e){e.cb(t,n)})),b.joiners=null}var b=((a={})[X]=!0,a.id=r,a.meta=o,a.isRoot=c,a.context=d,a.joiners=[],a.queue=h,a.cancel=function(){0===l&&(l=1,h.cancelAll(),g(Y,!1))},a.cont=i,a.end=g,a.setContext=function(e){be(d,e)},a.toPromise=function(){return f||(f=Ze(),2===l?f.reject(u):0!==l&&f.resolve(s)),f.promise},a.isRunning=function(){return 0===l},a.isCancelled=function(){return 1===l||0===l&&1===t.status},a.isAborted=function(){return 2===l},a.result=function(){return s},a.error=function(){return u},a);return b}function Tt(e,t,n,r,o,c,i){var a=e.finalizeRunEffect((function(t,n,r){if(ie(t))vt(t,r);else if(ae(t))Tt(e,t,u.context,n,o,!1,r);else if(t&&t[Q]){(0,_t[t.type])(e,t.payload,r,l)}else r(t)}));f.cancel=he;var s={meta:o,cancel:function(){0===s.status&&(s.status=1,f(Y))},status:0},u=At(e,s,n,r,o,c,i),l={task:u,digestEffect:p};return i&&(i.cancel=u.cancel),f(),u;function f(e,n){try{var o;n?(o=t.throw(e),Ct()):Se(e)?(s.status=1,f.cancel(),o=re(t.return)?t.return(Y):{done:!0,value:Y}):o=ke(e)?re(t.return)?t.return():{done:!0}:t.next(e),o.done?(1!==s.status&&(s.status=3),s.cont(o.value)):p(o.value,r,f)}catch(c){if(1===s.status)throw c;s.status=2,s.cont(c,!0)}}function p(t,n,r,o){void 0===o&&(o="");var c,i=wt();function s(n,o){c||(c=!0,r.cancel=he,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),o&&function(e){St=e}(t),r(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:o,effect:t}),s.cancel=he,r.cancel=function(){c||(c=!0,s.cancel(),s.cancel=he,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},a(t,i,s)}}function It(e,t){var n=e.channel,r=void 0===n?mt():n,o=e.dispatch,c=e.getState,i=e.context,a=void 0===i?{}:i,s=e.sagaMonitor,u=e.effectMiddlewares,l=e.onError,f=void 0===l?je:l;for(var p=arguments.length,d=new Array(p>2?p-2:0),h=2;h<p;h++)d[h-2]=arguments[h];var g=t.apply(void 0,d);var b,m=wt();if(s&&(s.rootSagaStarted=s.rootSagaStarted||he,s.effectTriggered=s.effectTriggered||he,s.effectResolved=s.effectResolved||he,s.effectRejected=s.effectRejected||he,s.effectCancelled=s.effectCancelled||he,s.actionDispatched=s.actionDispatched||he,s.rootSagaStarted({effectId:m,saga:t,args:d})),u){var v=U.apply(void 0,u);b=function(e){return function(t,n,r){return v((function(t){return e(t,n,r)}))(t)}}}else b=ge;var y={channel:r,dispatch:Ee(o),getState:c,sagaMonitor:s,onError:f,finalizeRunEffect:b};return ot((function(){var e=Tt(y,g,a,m,Pe(t),!0,void 0);return s&&s.effectResolved(m,e),e}))}var Rt=function(e){var t,n=void 0===e?{}:e,r=n.context,o=void 0===r?{}:r,c=n.channel,i=void 0===c?mt():c,a=n.sagaMonitor,s=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,["context","channel","sagaMonitor"]);function u(e){var n=e.getState,r=e.dispatch;return t=It.bind(null,ee({},s,{context:o,channel:i,dispatch:r,getState:n,sagaMonitor:a})),function(e){return function(t){a&&a.actionDispatched&&a.actionDispatched(t);var n=e(t);return i.put(t),n}}}return u.run=function(){return t.apply(void 0,arguments)},u.setContext=function(e){be(o,e)},u},Nt=n(12),Lt=n(16),Bt=function(){return"object"==typeof window&&window.wpcomGutenberg&&-1===Number(window.wpcomGutenberg.blogPublic)},Mt=["postsToShow","authors","categories","tags","specificPosts","specificMode","tagExclusions"],Dt=function(e){var t=Object(A.pick)(e,Mt),n=t.postsToShow,r=t.authors,o=t.categories,c=t.tags,i=t.specificPosts,a=t.specificMode,s=t.tagExclusions,u=Ht(i),l=a&&u&&u.length,f=Object(A.pickBy)(l?{include:u,orderby:"include",per_page:i.length}:{per_page:n,categories:o,author:r,tags:c,tags_exclude:s},(function(e){return!Object(A.isUndefined)(e)}));return f.suppress_password_protected_posts=!0,f},Ht=function(e){return e.map((function(e){return parseInt(e)})).filter((function(e){return e>0}))},Ft=function e(t,n){return t.flatMap((function(t){var r=[];if(t.name===n){var o=Dt(t.attributes);r.push({postsQuery:o,clientId:t.clientId})}return r.concat(e(t.innerBlocks,n))}))},Ut=function e(t){return t.flatMap((function(t){var n=[];return n.push(t.clientId),n.concat(e(t.innerBlocks))}))},zt=regeneratorRuntime.mark(Zt),Vt=Lt.name,qt="newspack-blocks/".concat(Vt),Qt={postsByBlock:{},errorsByBlock:{}},Gt={reflow:function(){Jt.dispatch({type:"REFLOW"})}},Kt={getPosts:function(e){var t=e.clientId;return Jt.getState().postsByBlock[t]},getError:function(e){var t=e.clientId;return Jt.getState().errorsByBlock[t]},isUIDisabled:function(){return Jt.getState().isUIDisabled}},Wt=Rt(),Jt=function e(t,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var c=t,i=n,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function f(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function p(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!M(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=c(i,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,d({type:B.REPLACE})}function g(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[N.a]=function(){return this},e}return d({type:B.INIT}),(o={dispatch:d,subscribe:p,getState:f,replaceReducer:h})[N.a]=g,o}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISABLE_UI":return Object(A.set)(e,"isUIDisabled",!0);case"ENABLE_UI":return Object(A.set)(e,"isUIDisabled",!1);case"UPDATE_BLOCK_POSTS":return Object(A.set)(e,["postsByBlock",t.clientId],t.posts);case"UPDATE_BLOCK_ERROR":return Object(A.set)(e,["errorsByBlock",t.clientId],t.error)}return e}),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},c=t.map((function(e){return e(o)}));return F({},n,{dispatch:r=U.apply(void 0,c)(n.dispatch)})}}}(Wt)),Xt=o()({getSelectors:function(){return Kt},getActions:function(){return Gt}},Jt),Yt={},$t=JSON.stringify;function Zt(e){var t,n,r,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=$t(e.postsQuery),void 0!==(n=Yt[t])){i.next=8;break}return r=Object(S.addQueryArgs)("/wp/v2/posts",o()(o()({},e.postsQuery),{},{context:"edit"})),i.next=6,ze(k.a,{path:r});case 6:n=i.sent,Yt[t]=n;case 8:return c=n.map((function(e){return e.id})),i.next=11,Fe({type:"UPDATE_BLOCK_POSTS",clientId:e.clientId,posts:n});case 11:return i.abrupt("return",c);case 12:case"end":return i.stop()}}),zt)}var en,tn=function(e){return e.map((function(e){return Object(s.createElement)("span",{className:"avatar author-avatar",key:e.id},Object(s.createElement)("a",{className:"url fn n",href:e.author_link},Object(s.createElement)(s.RawHTML,null,e.avatar)))}))},nn=function(e){return Object(s.createElement)("span",{className:"byline"},Object(i._x)("by","post author","full-site-editing")," ",e.reduce((function(t,n,r){return[].concat(P()(t),[Object(s.createElement)("span",{className:"author vcard",key:n.id},Object(s.createElement)("a",{className:"url fn n",href:n.author_link},n.display_name)),r<e.length-2&&", ",e.length>1&&r===e.length-2&&Object(i._x)(" and ","post author","full-site-editing")])}),[]))},rn=function(e){return Object(s.createElement)("span",{className:"sponsor-logos"},e.map((function(e){return Object(s.createElement)(s.Fragment,{key:e.id},e.src&&Object(s.createElement)("a",{href:e.sponsor_url},Object(s.createElement)("img",{src:e.src,width:e.img_width,height:e.img_height,alt:e.sponsor_name})))})))},on=function(e){return Object(s.createElement)("span",{className:"byline sponsor-byline"},e[0].byline_prefix," ",e.reduce((function(t,n,r){return[].concat(P()(t),[Object(s.createElement)("span",{className:"author",key:n.id},Object(s.createElement)("a",{href:n.author_link},n.sponsor_name)),r<e.length-2&&", ",e.length>1&&r===e.length-2&&Object(i._x)(" and ","post author","full-site-editing")])}),[]))},cn=n(21),an=n.n(cn),sn=n(22),un=n(10),ln=n(26);"object"==typeof window&&window.newspackIsPostSubtitleSupported&&window.newspackIsPostSubtitleSupported.post_subtitle&&(en=!0);var fn,pn=Object(s.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(s.createElement)(u.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(s.createElement)(u.Path,{d:"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"})),dn=Object(s.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(s.createElement)(u.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(s.createElement)(u.Path,{d:"M17 3H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7V5h10v14z"})),hn=Object(s.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(s.createElement)(u.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(s.createElement)(u.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"})),gn=Object(s.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(s.createElement)(u.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(s.createElement)(u.Path,{d:"M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z"})),bn=Object(s.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(s.createElement)(u.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(s.createElement)(u.Path,{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2V4zm6 9l-4 5h12l-3-4-2.03 2.71L10 13zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5zM20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2zm0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2v7zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4v-7z"})),mn=function(e){m()(n,e);var t=y()(n);function n(){var e;f()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),w()(g()(e),"renderPost",(function(t){var n,r,o,c,i,a=e.props,u=a.attributes,l=a.isUIDisabled,f=u.showImage,p=u.imageShape,d=u.mediaPosition,h=u.minHeight,g=u.showCaption,b=u.showExcerpt,m=u.showSubtitle,v=u.showAuthor,y=u.showAvatar,O=u.showDate,w=u.showCategory,j=u.sectionHeader,_={minHeight:"behind"===d&&f&&t.newspack_featured_image_src&&h+"vh",paddingTop:"behind"===d&&f&&t.newspack_featured_image_src&&h/5+"vh"},E=an()({"post-has-image":t.newspack_featured_image_src,"homepage-posts-block__post--disabled":l},t.newspack_article_classes),k=e.titleForPost(t),S=Object(sn.__experimentalGetSettings)().formats.date;return Object(s.createElement)("article",{className:E,key:t.id,style:_},f&&t.newspack_featured_image_src&&Object(s.createElement)("figure",{className:"post-thumbnail",key:"thumbnail"},Object(s.createElement)("a",{href:"#"},"landscape"===p&&Object(s.createElement)("img",{src:t.newspack_featured_image_src.landscape,alt:""}),"portrait"===p&&Object(s.createElement)("img",{src:t.newspack_featured_image_src.portrait,alt:""}),"square"===p&&Object(s.createElement)("img",{src:t.newspack_featured_image_src.square,alt:""}),"uncropped"===p&&Object(s.createElement)("img",{src:t.newspack_featured_image_src.uncropped,alt:""})),g&&""!==t.newspack_featured_image_caption&&Object(s.createElement)("figcaption",null,t.newspack_featured_image_caption)),Object(s.createElement)("div",{className:"entry-wrapper"},t.newspack_post_sponsors&&Object(s.createElement)("span",{className:"cat-links sponsor-label"},Object(s.createElement)("span",{className:"flag"},t.newspack_post_sponsors[0].flag)),w&&t.newspack_category_info.length&&!t.newspack_post_sponsors&&Object(s.createElement)("div",{className:"cat-links"},Object(s.createElement)("a",{href:"#"},Object(x.decodeEntities)(t.newspack_category_info))),un.RichText.isEmpty(j)?Object(s.createElement)("h2",{className:"entry-title",key:"title"},"aside"===t.newspack_post_format?k:Object(s.createElement)("a",{href:"#"},k)):Object(s.createElement)("h3",{className:"entry-title",key:"title"},"aside"===t.newspack_post_format?k:Object(s.createElement)("a",{href:"#"},k)),en&&m&&Object(s.createElement)(s.RawHTML,{key:"subtitle",className:"newspack-post-subtitle newspack-post-subtitle--in-homepage-block"},t.meta.newspack_post_subtitle||""),b&&Object(s.createElement)(s.RawHTML,{key:"excerpt",className:"excerpt-contain"},"aside"===t.newspack_post_format?t.content.rendered:(n=t,r=u.excerptLength,o=n.excerpt.rendered,c=n.content.rendered.replace(/(<([^>]+)>)/gi,""),i=r<c.trim().split(" ").length?"".concat(c.split(" ",r).join(" ")," [â€¦]"):c,n.newspack_has_custom_excerpt?o:"<p>"+i.trim()+"</p>")),Object(s.createElement)("div",{className:"entry-meta"},t.newspack_post_sponsors&&rn(t.newspack_post_sponsors),t.newspack_post_sponsors&&on(t.newspack_post_sponsors),v&&y&&!t.newspack_post_sponsors&&tn(t.newspack_author_info),v&&!t.newspack_post_sponsors&&nn(t.newspack_author_info),O&&Object(s.createElement)("time",{className:"entry-date published",key:"pub-date"},Object(sn.dateI18n)(S,t.date_gmt)))))})),w()(g()(e),"titleForPost",(function(e){return e.title?"string"==typeof e.title?Object(x.decodeEntities)(e.title.trim()):"object"==typeof e.title&&e.title.rendered?Object(x.decodeEntities)(e.title.rendered.trim()):void 0:""})),w()(g()(e),"renderInspectorControls",(function(){var t=e.props,n=t.attributes,r=t.setAttributes,o=t.textColor,c=t.setTextColor,a=n.authors,l=n.specificPosts,f=n.postsToShow,p=n.categories,d=n.columns,h=n.showImage,g=n.showCaption,b=n.imageScale,m=n.mobileStack,v=n.minHeight,y=n.moreButton,O=n.showExcerpt,w=n.excerptLength,j=n.showSubtitle,_=n.typeScale,E=n.showDate,k=n.showAuthor,S=n.showAvatar,x=n.showCategory,C=n.postLayout,P=n.mediaPosition,A=n.specificMode,T=n.tags,I=n.tagExclusions,N=[{value:1,label:Object(i.__)("Small","full-site-editing"),shortName:Object(i.__)("S","full-site-editing")},{value:2,label:Object(i.__)("Medium","full-site-editing"),shortName:Object(i.__)("M","full-site-editing")},{value:3,label:Object(i.__)("Large","full-site-editing"),shortName:Object(i.__)("L","full-site-editing")},{value:4,label:Object(i.__)("Extra Large","full-site-editing"),shortName:Object(i.__)("XL","full-site-editing")}];return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(u.PanelBody,{title:Object(i.__)("Display Settings","full-site-editing"),initialOpen:!0},Object(s.createElement)(R,{numberOfItems:f,onNumberOfItemsChange:function(e){return r({postsToShow:e||1})},specificMode:A,onSpecificModeChange:function(e){return r({specificMode:e})},specificPosts:l,onSpecificPostsChange:function(e){return r({specificPosts:e})},authors:a,onAuthorsChange:function(e){return r({authors:e})},categories:p,onCategoriesChange:function(e){return r({categories:e})},tags:T,onTagsChange:function(e){r({tags:e})},tagExclusions:I,onTagExclusionsChange:function(e){return r({tagExclusions:e})}}),"grid"===C&&Object(s.createElement)(u.RangeControl,{label:Object(i.__)("Columns","full-site-editing"),value:d,onChange:function(e){return r({columns:e})},min:2,max:6,required:!0}),!A&&Bt()?Object(s.createElement)("i",null,Object(i.__)('This blog is private, therefore the "Load more posts" feature is not active.',"full-site-editing")):Object(s.createElement)(u.ToggleControl,{label:Object(i.__)('Show "Load more posts" Button',"full-site-editing"),checked:y,onChange:function(){return r({moreButton:!y})}})),Object(s.createElement)(u.PanelBody,{title:Object(i.__)("Featured Image Settings","full-site-editing")},Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Show Featured Image","full-site-editing"),checked:h,onChange:function(){return r({showImage:!h})}})),h&&Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Show Featured Image Caption","full-site-editing"),checked:g,onChange:function(){return r({showCaption:!g})}})),h&&"top"!==P&&"behind"!==P&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Stack on mobile","full-site-editing"),checked:m,onChange:function(){return r({mobileStack:!m})}})),Object(s.createElement)(u.BaseControl,{label:Object(i.__)("Featured Image Size","full-site-editing"),id:"newspackfeatured-image-size"},Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ButtonGroup,{id:"newspackfeatured-image-size","aria-label":Object(i.__)("Featured Image Size","full-site-editing")},N.map((function(e){var t=b===e.value;return Object(s.createElement)(u.Button,{isLarge:!0,isPrimary:t,"aria-pressed":t,"aria-label":e.label,key:e.value,onClick:function(){return r({imageScale:e.value})}},e.shortName)})))))),h&&"behind"===P&&Object(s.createElement)(u.RangeControl,{label:Object(i.__)("Minimum height","full-site-editing"),help:Object(i.__)("Sets a minimum height for the block, using a percentage of the screen's current height.","full-site-editing"),value:v,onChange:function(e){return r({minHeight:e})},min:0,max:100,required:!0})),Object(s.createElement)(u.PanelBody,{title:Object(i.__)("Post Control Settings","full-site-editing")},en&&Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Show Subtitle","full-site-editing"),checked:j,onChange:function(){return r({showSubtitle:!j})}})),Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Show Excerpt","full-site-editing"),checked:O,onChange:function(){return r({showExcerpt:!O})}})),O&&Object(s.createElement)(u.RangeControl,{label:Object(i.__)("Max number of words in excerpt","full-site-editing"),value:w,onChange:function(e){return r({excerptLength:e})},min:10,max:100}),Object(s.createElement)(u.RangeControl,{className:"type-scale-slider",label:Object(i.__)("Type Scale","full-site-editing"),value:_,onChange:function(e){return r({typeScale:e})},min:1,max:10,beforeIcon:"editor-textcolor",afterIcon:"editor-textcolor",required:!0})),Object(s.createElement)(un.PanelColorSettings,{title:Object(i.__)("Color Settings","full-site-editing"),initialOpen:!0,colorSettings:[{value:o.color,onChange:c,label:Object(i.__)("Text Color","full-site-editing")}]}),Object(s.createElement)(u.PanelBody,{title:Object(i.__)("Post Meta Settings","full-site-editing")},Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Show Date","full-site-editing"),checked:E,onChange:function(){return r({showDate:!E})}})),Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Show Category","full-site-editing"),checked:x,onChange:function(){return r({showCategory:!x})}})),Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Show Author","full-site-editing"),checked:k,onChange:function(){return r({showAuthor:!k})}})),k&&Object(s.createElement)(u.PanelRow,null,Object(s.createElement)(u.ToggleControl,{label:Object(i.__)("Show Author Avatar","full-site-editing"),checked:S,onChange:function(){return r({showAvatar:!S})}}))))})),e}return d()(n,[{key:"componentDidMount",value:function(){this.props.triggerReflow()}},{key:"componentDidUpdate",value:function(e){(function(e,t){return!Object(A.isEqual)(Object(A.pick)(e.attributes,Mt),Object(A.pick)(t.attributes,Mt))||!Object(A.isEqual)(e.topBlocksClientIdsInOrder,t.topBlocksClientIdsInOrder)})(e,this.props)&&this.props.triggerReflow()}},{key:"componentWillUnmount",value:function(){this.props.triggerReflow()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.attributes,o=n.className,c=n.setAttributes,a=n.isSelected,l=n.latestPosts,f=n.textColor,p=n.error,d=r.showImage,h=r.imageShape,g=r.postLayout,b=r.mediaPosition,m=r.moreButton,v=r.moreButtonText,y=r.columns,O=r.typeScale,j=r.imageScale,_=r.mobileStack,E=r.sectionHeader,k=r.showCaption,S=r.showCategory,x=r.specificMode,C=an()(o,(e={"is-grid":"grid"===g,"show-image":d},w()(e,"columns-".concat(y),"grid"===g),w()(e,"ts-".concat(O),"5"!==O),w()(e,"image-align".concat(b),d),w()(e,"is-".concat(j),"1"!==j&&d),w()(e,"mobile-stack",_),w()(e,"is-".concat(h),d),w()(e,"has-text-color",""!==f.color),w()(e,"show-caption",k),w()(e,"show-category",S),w()(e,"wpnbha",!0),e)),P=[{icon:"list-view",title:Object(i.__)("List View","full-site-editing"),onClick:function(){return c({postLayout:"list"})},isActive:"list"===g},{icon:"grid-view",title:Object(i.__)("Grid View","full-site-editing"),onClick:function(){return c({postLayout:"grid"})},isActive:"grid"===g}],A=[{icon:"align-none",title:Object(i.__)("Show media on top","full-site-editing"),isActive:"top"===b,onClick:function(){return c({mediaPosition:"top"})}},{icon:"align-pull-left",title:Object(i.__)("Show media on left","full-site-editing"),isActive:"left"===b,onClick:function(){return c({mediaPosition:"left"})}},{icon:"align-pull-right",title:Object(i.__)("Show media on right","full-site-editing"),isActive:"right"===b,onClick:function(){return c({mediaPosition:"right"})}},{icon:bn,title:Object(i.__)("Show media behind","full-site-editing"),isActive:"behind"===b,onClick:function(){return c({mediaPosition:"behind"})}}],T=[{icon:pn,title:Object(i.__)("Landscape Image Shape","full-site-editing"),isActive:"landscape"===h,onClick:function(){return c({imageShape:"landscape"})}},{icon:dn,title:Object(i.__)("portrait Image Shape","full-site-editing"),isActive:"portrait"===h,onClick:function(){return c({imageShape:"portrait"})}},{icon:hn,title:Object(i.__)("Square Image Shape","full-site-editing"),isActive:"square"===h,onClick:function(){return c({imageShape:"square"})}},{icon:gn,title:Object(i.__)("Uncropped","full-site-editing"),isActive:"uncropped"===h,onClick:function(){return c({imageShape:"uncropped"})}}];return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:C,style:{color:f.color}},Object(s.createElement)("div",null,l&&(!un.RichText.isEmpty(E)||a)&&Object(s.createElement)(un.RichText,{onChange:function(e){return c({sectionHeader:e})},placeholder:Object(i.__)("Write headerâ€¦","full-site-editing"),value:E,tagName:"h2",className:"article-section-title"}),l&&!l.length&&Object(s.createElement)(u.Placeholder,null,Object(i.__)("Sorry, no posts were found.","full-site-editing")),!l&&!p&&Object(s.createElement)(u.Placeholder,{icon:Object(s.createElement)(u.Spinner,null),className:"component-placeholder__align-center"}),!l&&p&&Object(s.createElement)(u.Placeholder,{className:"component-placeholder__align-center homepage-posts-block--error"},p),l&&l.map((function(e){return t.renderPost(e)})))),!x&&l&&m&&!Bt()&&Object(s.createElement)("div",{className:"editor-styles-wrapper wpnbha__wp-block-button__wrapper"},Object(s.createElement)("div",{className:"wp-block-button"},Object(s.createElement)(un.RichText,{placeholder:Object(i.__)("Load more posts","full-site-editing"),value:v,onChange:function(e){return c({moreButtonText:e})},className:"wp-block-button__link",keepPlaceholderOnFocus:!0,allowedFormats:[]}))),Object(s.createElement)(un.BlockControls,null,Object(s.createElement)(u.Toolbar,{controls:P}),d&&Object(s.createElement)(u.Toolbar,{controls:A}),d&&Object(s.createElement)(u.Toolbar,{controls:T})),Object(s.createElement)(un.InspectorControls,null,this.renderInspectorControls()))}}]),n}(s.Component),vn=Object(ln.compose)([Object(un.withColors)({textColor:"color"}),Object(Nt.withSelect)((function(e,t){var n=t.clientId,r=t.attributes,o=e("core/editor"),c=o.getEditorBlocks,i=o.getBlocks,a=Ut(c()).indexOf(n)>=0,s=e(qt),u=s.getPosts,l=s.getError,f={isEditorBlock:a,isUIDisabled:(0,s.isUIDisabled)(),error:l({clientId:n}),topBlocksClientIdsInOrder:i().map((function(e){return e.clientId}))};return f.latestPosts=a?u({clientId:n}):e("core").getEntityRecords("postType","post",Dt(r)),f})),Object(Nt.withDispatch)((function(e,t){return{triggerReflow:t.isEditorBlock?e(qt).reflow:function(){}}}))])(mn),yn=(n(38),n(39),Lt.name,Lt.attributes),On=Lt.category,wn={title:Object(i.__)("Homepage Posts","full-site-editing"),icon:Object(s.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(s.createElement)(u.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(s.createElement)(u.Path,{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zM10 9h8v2h-8zm0 3h4v2h-4zm0-6h8v2h-8z",fill:"#36f"})),attributes:yn,category:On,keywords:[Object(i.__)("posts","full-site-editing"),Object(i.__)("articles","full-site-editing"),Object(i.__)("latest","full-site-editing")],description:Object(i.__)("A block for displaying homepage posts.","full-site-editing"),styles:[{name:"default",label:Object(i._x)("Default","block style","full-site-editing"),isDefault:!0},{name:"borders",label:Object(i._x)("Borders","block style","full-site-editing")}],supports:{html:!1,align:["wide","full"],default:""},edit:vn,save:function(){return null},transforms:{from:[{type:"block",blocks:["core/latest-posts"],transform:function(e){var t=e.displayPostContent,n=e.displayPostDate,r=e.postLayout,o=e.columns,i=e.postsToShow,s=e.categories;return Object(c.createBlock)(Object(a.applyFilters)("blocks.transforms_from_name","newspack-blocks/homepage-articles"),{showExcerpt:t,showDate:n,postLayout:r,columns:o,postsToShow:i,showAuthor:!1,categories:s?[s]:[]})}}],to:[{type:"block",blocks:["core/latest-posts"],transform:function(e){var t=e.showExcerpt,n=e.showDate,r=e.postLayout,o=e.columns,i=e.postsToShow,a=e.categories;return Object(c.createBlock)("core/latest-posts",{displayPostContent:t,displayPostDate:n,postLayout:r,columns:o,postsToShow:i,categories:a[0]||""})}}]}},jn="a8c/blog-posts";Object(a.addFilter)("blocks.transforms_from_name","set-transformed-block-name",(function(e){return"newspack-blocks/homepage-articles"!==e?e:jn})),Object(c.registerBlockType)(jn,o()(o()({},wn),{},{title:Object(i.__)("Blog Posts","full-site-editing"),category:"widgets"})),fn=jn,Object(Nt.registerGenericStore)(qt,Xt),Wt.run(function(e){var t=regeneratorRuntime.mark(n);function n(){var n,r,o,c,i,a,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qe(300);case 2:return n=Object(Nt.select)("core/block-editor"),r=n.getBlocks,o=Object(Nt.select)("core/editor"),c=o.getCurrentPostId,t.next=6,Fe({type:"DISABLE_UI"});case 6:i=Ft(r(),e),a=i.reduce((function(e,t){var n=t.postsQuery;return n.include&&(e=[].concat(P()(e),P()(n.include))),e}),[]),s=Ht([].concat(P()(a),[c()]));case 9:if(!i.length){t.next=26;break}return(u=i.shift()).postsQuery.exclude=s,l=[],t.prev=13,t.next=16,ze(Zt,u);case 16:l=t.sent,t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(13),t.next=23,Fe({type:"UPDATE_BLOCK_ERROR",clientId:u.clientId,error:t.t0.message});case 23:s=[].concat(P()(s),P()(l)),t.next=9;break;case 26:return t.next=28,Fe({type:"ENABLE_UI"});case 28:case"end":return t.stop()}}),t,null,[[13,19]])}return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye("REFLOW",n);case 2:case"end":return e.stop()}}),e)}))}(fn))}]));