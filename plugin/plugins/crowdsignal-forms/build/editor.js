!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=46)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.React}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t,n){e.exports=n(38)()},function(e,t,n){var r=n(35),o=n(36),l=n(26),a=n(37);e.exports=function(e,t){return r(e)||o(e,t)||l(e,t)||a()}},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var l=typeof r;if("string"===l||"number"===l)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===l)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){function n(e,t,n,r,o,l,a){try{var c=e[l](a),s=c.value}catch(i){return void n(i)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,l){var a=e.apply(t,r);function c(e){n(a,o,l,c,s,"next",e)}function s(e){n(a,o,l,c,s,"throw",e)}c(void 0)}))}}},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.wp.htmlEntities}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=n(32),o=n(33),l=n(26),a=n(34);e.exports=function(e){return r(e)||o(e)||l(e)||a()}},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(l){if(void 0===(o="function"==typeof(r=l)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=l(),!!0){var a=window.Cookies,c=window.Cookies=l();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function l(t,n,l){if("undefined"!=typeof document){"number"==typeof(l=e({path:"/"},o.defaults,l)).expires&&(l.expires=new Date(1*new Date+864e5*l.expires)),l.expires=l.expires?l.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(i){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in l)l[s]&&(c+="; "+s,!0!==l[s]&&(c+="="+l[s].split(";")[0]));return document.cookie=t+"="+n+c}}function a(e,n){if("undefined"!=typeof document){for(var o={},l=document.cookie?document.cookie.split("; "):[],a=0;a<l.length;a++){var c=l[a].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var i=t(c[0]);if(s=(r.read||r)(s,i)||t(s),n)try{s=JSON.parse(s)}catch(u){}if(o[i]=s,e===i)break}catch(u){}}return e?o[e]:o}}return o.set=l,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){l(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},function(e,t){!function(){e.exports=this.ReactDOM}()},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(22);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(25);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=n(40),o=n(41);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){var r=n(19),o=n(22),l=n(42),a=n(43);function c(t){var n="function"==typeof Map?new Map:void 0;return e.exports=c=function(e){if(null===e||!l(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},c(t)}e.exports=c},function(e,t,n){var r=n(45);e.exports=function(e,t){if(null==e)return{};var n,o,l=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}},,,function(e,t,n){var r=n(25);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,l=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,l=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw l}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(39);function o(){}function l(){}l.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,l,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(22),o=n(44);function l(t,n,a){return o()?e.exports=l=Reflect.construct:e.exports=l=function(e,t,n){var o=[null];o.push.apply(o,t);var l=new(Function.bind.apply(e,o));return n&&r(l,n.prototype),l},l.apply(null,arguments)}e.exports=l},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t,n){"use strict";n.r(t);var r=n(17),o=n(0),l=n(1),a=function(){return Object(o.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 6L5.5 18C5.5 18.2761 5.72386 18.5 6 18.5L18 18.5C18.2761 18.5 18.5 18.2761 18.5 18L18.5 6C18.5 5.72386 18.2761 5.5 18 5.5L6 5.5C5.72386 5.5 5.5 5.72386 5.5 6ZM4 18L4 6C4 4.89543 4.89543 4 6 4L18 4C19.1046 4 20 4.89543 20 6L20 18C20 19.1046 19.1046 20 18 20L6 20C4.89543 20 4 19.1046 4 18Z"}),Object(o.createElement)("rect",{x:"15",y:"17",width:"6",height:"1.5",transform:"rotate(-90 15 17)"}),Object(o.createElement)("rect",{x:"11.5",y:"17",width:"9",height:"1.5",transform:"rotate(-90 11.5 17)"}),Object(o.createElement)("rect",{x:"8",y:"17",width:"5",height:"1.5",transform:"rotate(-90 8 17)"}))},c=n(16),s=n.n(c),i=n(5),u=n.n(i),d=n(12),f=n(2);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={tryFetch:!1,isFetching:!1,pollsByClientId:{},pollClientIds:[]},g={setTryFetchPollData:function(e){return{type:"SET_TRY_FETCH",tryFetch:e}},setIsFetchingPollData:function(e){return{type:"IS_FETCHING",isFetching:e}},setPollApiDataForClientId:function(e,t){return{type:"SET_POLL",clientId:e,pollData:t}},addPollClientId:function(e){return{type:"ADD_POLL_CLIENT_ID",clientId:e}},removePollClientId:function(e){return{type:"REMOVE_POLL_CLIENT_ID",clientId:e}}},O=(Object(d.registerStore)("crowdsignal-forms/polls",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRY_FETCH":return m({},e,{tryFetch:!!t.tryFetch});case"IS_FETCHING":return m({},e,{isFetching:!!t.isFetching});case"SET_POLL":return m({},e,{pollsByClientId:m({},e.pollsByClientId,u()({},t.clientId,t.pollData))});case"ADD_POLL_CLIENT_ID":return m({},e,{pollClientIds:e.pollClientIds.indexOf(t.clientId)<0?[].concat(s()(e.pollClientIds),[t.clientId]):e.pollClientIds});case"REMOVE_POLL_CLIENT_ID":return m({},e,{pollClientIds:Object(f.filter)(e.pollClientIds,(function(e){return e!==t.clientId}))});default:return e}},actions:g,selectors:{shouldTryFetchingPollData:function(e){return!!e.tryFetch},getPollDataByClientId:function(e,t){return e.pollsByClientId[t]||null},getPollClientIds:function(e){return e.pollClientIds},isFetchingPollData:function(e){return!!e.isFetching}},controls:{},resolvers:{}}),n(15)),w=n.n(O),h=n(8),j=n.n(h),_=n(3),C=n.n(_),E=n(6),v=n(4),y=n(14),x=n(13),S=n(10),N=n.n(S),k=function(e){var t=e.hasVoted,n=e.isPollClosed,r=e.isPollHidden,a=e.showSubmitMessage,c=N()({"is-transparent":a},"crowdsignal-forms-poll__closed-banner");return Object(o.createElement)("div",{className:c},r&&Object(l.__)("This Poll is Hidden","crowdsignal-forms"),n&&!r&&Object(l.__)("This Poll is Closed","crowdsignal-forms"),t&&Object(l.__)("Thanks For Voting!","crowdsignal-forms"))},L=function(e){for(var t=window.getComputedStyle(e).backgroundColor;"rgba(0, 0, 0, 0)"===t&&e.parentNode&&e.parentNode.nodeType===window.Node.ELEMENT_NODE;)e=e.parentNode,t=window.getComputedStyle(e).backgroundColor;return t},T=function(e){return"0px"!==window.getComputedStyle(e).borderBlockStartWidth?window.getComputedStyle(e).borderBlockStartColor:null},P=n(7),R=n.n(P),A=n(9),I=n.n(A),D=n(11),B=n.n(D),F=n(20),M=n.n(F),V=n(23),H=n.n(V),U=n(24),W=n.n(U),z=n(27),Z=n.n(z),q=n(19),G=n.n(q),K=n(28),Y=n.n(K),J=n(18),X=n.n(J);function $(e){return function(){var t,n=G()(e);if(Q()){var r=G()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Z()(this,t)}}function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ee,te=function(){var e=B()(I.a.mark((function e(t){var n,r,o=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(o.length>1&&void 0!==o[1])||o[1],r="https://api.crowdsignal.com/v3/polls",n){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",window.fetch("".concat(r,"/").concat(t,"/results"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e})).then((function(e){if(404===e.status)return{};if(e.error)throw new Error(e.message);return e.results.votes_by_answer})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=B()(I.a.mark((function e(t){var n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"5430eeac3911395001d731d9702fc38b",n=(new Date).getTime(),e.next=4,window.fetch("https://polldaddy.com/n/".concat("5430eeac3911395001d731d9702fc38b","/").concat(t,"?").concat(n,"&format=json"));case 4:if((r=e.sent).ok){e.next=7;break}throw new le;case 7:return e.next=9,r.json();case 9:if((o=e.sent).nonce){e.next=12;break}throw new le;case 12:return e.abrupt("return",o.nonce);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=B()(I.a.mark((function e(t,n,r,o){var l,a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.join(","),e.next=3,window.fetch("https://polls.polldaddy.com/vote-js.php?format=json&p=".concat(n,"&b=1&a=").concat(l,"&o=&va=16&cookie=0&n=").concat(t,"&url=").concat(encodeURIComponent(window.location),"&vi=").concat(o));case 3:if((a=e.sent).ok){e.next=6;break}throw new le;case 6:return e.next=8,a.json();case 8:if("error"!==(c=e.sent).status){e.next=11;break}throw new oe(c.error);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),oe=function(e){W()(n,e);var t=$(n);function n(){return H()(this,n),t.apply(this,arguments)}return n}(Y()(Error)),le=function(e){W()(n,e);var t=$(n);function n(){return H()(this,n),t.call(this,Object(l.__)("Server error. Please try again.","crowdsignal-forms"))}return n}(oe),ae=function(){var e=B()(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X()({path:"/crowdsignal-forms/v1/account/connected",method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=B()(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X()({path:"/crowdsignal-forms/v1/account/info",method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e,t){var n=Object(_.useState)(null),r=j()(n,2),o=r[0],l=r[1],a=Object(_.useState)(null),c=j()(a,2),s=c[0],i=c[1],u=Object(_.useState)(!0),d=j()(u,2),f=d[0],b=d[1];return Object(_.useEffect)((function(){b(!0),i(null),l(null),e().then(l).catch(i).finally((function(){return b(!1)}))}),t),{data:o,error:s,loading:f}},ie=Object.freeze({THANK_YOU:"thank-you",CUSTOM_TEXT:"custom-text",REDIRECT:"redirect",RESULTS:"results"}),ue=Object.freeze({THEME_DEFAULT:"theme-default",GEORGIA:"georgia",PALATINO:"palatino",TIMES_NEW_ROMAN:"times-new-roman",ARIAL:"arial",IMPACT:"impact",LUCIDA:"lucida",TAHOMA:"tahoma",TREBUCHET:"trebuchet",VERDANA:"verdana",COURIER:"courier",CABIN:"Cabin",CHIVO:"Chivo",OPEN_SANS:"Open+Sans",FIRA_SANS:"Fira+Sans",ROBOTO:"Roboto",NUNITO:"Nunito",OVERPASS:"Overpass",LATO:"Lato",LIBRE_FRANKLIN:"Libre+Franklin",MONTSERRAT:"Montserrat",POPPINS:"Poppins",RUBIK:"Rubik",RALEWAY:"Raleway",JOSEFIN_SANS:"Josefin+Sans",ALEGREYA_SANS:"Alegreya+Sans",OSWALD:"Oswald"}),de=Object.freeze([ue.CABIN,ue.CHIVO,ue.OPEN_SANS,ue.FIRA_SANS,ue.ROBOTO,ue.NUNITO,ue.OVERPASS,ue.LATO,ue.LIBRE_FRANKLIN,ue.MONTSERRAT,ue.POPPINS,ue.RUBIK,ue.RALEWAY,ue.JOSEFIN_SANS,ue.ALEGREYA_SANS,ue.OSWALD]),fe=Object.freeze((ee={},u()(ee,ue.THEME_DEFAULT,null),u()(ee,ue.GEORGIA,"Georgia, serif"),u()(ee,ue.PALATINO,'"Palatino Linotype", "Book Antiqua", Palatino, serif'),u()(ee,ue.TIMES_NEW_ROMAN,'"Times New Roman", Times, serif'),u()(ee,ue.ARIAL,"Arial, Helvetica, sans-serif"),u()(ee,ue.IMPACT,"Impact, Charcoal, sans-serif"),u()(ee,ue.LUCIDA,'"Lucida Sans Unicode", "Lucida Grande", sans-serif'),u()(ee,ue.TAHOMA,"Tahoma, Geneva, sans-serif"),u()(ee,ue.TREBUCHET,'"Trebuchet MS", Helvetica, sans-serif'),u()(ee,ue.VERDANA,"Verdana, Geneva, sans-serif"),u()(ee,ue.COURIER,'"Courier New", Courier, monospace'),u()(ee,ue.CABIN,'"Cabin", sans-serif'),u()(ee,ue.CHIVO,'"Chivo", sans-serif'),u()(ee,ue.OPEN_SANS,'"Open Sans", sans-serif'),u()(ee,ue.FIRA_SANS,'"Fira Sans", sans-serif'),u()(ee,ue.ROBOTO,'"Roboto", sans-serif'),u()(ee,ue.NUNITO,'"Nunito", sans-serif'),u()(ee,ue.OVERPASS,'"Overpass", sans-serif'),u()(ee,ue.LATO,'"Lato", sans-serif'),u()(ee,ue.LIBRE_FRANKLIN,'"Libre Franklin", sans-serif'),u()(ee,ue.MONTSERRAT,'"Montserrat", sans-serif'),u()(ee,ue.POPPINS,'"Poppins", sans-serif'),u()(ee,ue.RUBIK,'"Rubik", sans-serif'),u()(ee,ue.RALEWAY,'"Raleway", sans-serif'),u()(ee,ue.JOSEFIN_SANS,'"Josefin Sans", sans-serif'),u()(ee,ue.ALEGREYA_SANS,'"Alegreya Sans", sans-serif'),u()(ee,ue.OSWALD,'"Oswald", sans-serif'),ee)),be=Object.freeze({OPEN:"open",CLOSED:"closed",CLOSED_AFTER:"closed-after"}),me=Object.freeze({SHOW_RESULTS:"show-results",SHOW_CLOSED_BANNER:"show-closed-banner",HIDDEN:"hidden"}),pe=Object.freeze({CONNECTED:"connected",NOT_CONNECTED:"not-connected",NOT_VERIFIED:"not-verified"}),ge=Object.freeze({RADIO:"radio",BUTTON:"button"}),Oe=Object.freeze({LIST:"list",INLINE:"inline"}),we=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=se((function(){return te(e,t)}),[e]),r=n.data,o=n.error,l=n.loading;return{error:o,loading:l,results:r}},he={is_verified:!0,capabilities:["hide-branding"],signal_count:{count:0,userLimit:2500,shouldDisplay:!1}},je=function(){var e=Object(_.useState)(he),t=j()(e,2),n=t[0],r=t[1],o=function(){var e=B()(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.useEffect)((function(){o()}),[]),n},_e=function(e){var t=e.error,n=e.loading,r=e.text,a=e.totalVotes,c=e.votes,s=N()("crowdsignal-forms-poll__answer-results",{"is-error":t,"is-loading":n}),i=!n&&!t,u=0===a?0:100*c/a,d={width:"".concat(parseInt(u,10),"%")};return Object(o.createElement)("div",{className:s},Object(o.createElement)("div",{className:"crowdsignal-forms-poll__answer-results-labels"},Object(o.createElement)("span",{className:"crowdsignal-forms-poll__answer-results-answer"},Object(y.decodeEntities)(r)),Object(o.createElement)("span",{className:"crowdsignal-forms-poll__answer-results-votes"},i&&Object(l.sprintf)(Object(l._n)("%s vote","%s votes",c,"crowdsignal-forms"),c.toLocaleString())),Object(o.createElement)("span",{className:"crowdsignal-forms-poll__answer-results-percent"},i&&"".concat(u.toFixed(2),"%"))),Object(o.createElement)("div",{className:"crowdsignal-forms-poll__answer-results-progress-track"},Object(o.createElement)("div",{className:"crowdsignal-forms-poll__answer-results-progress-bar",style:d})))};_e.propTypes={loading:R.a.bool,text:R.a.string.isRequired,totalVotes:R.a.number,votes:R.a.number};var Ce=_e,Ee=Object(o.createElement)("span",null,"Hide Crowdsignal ads",Object(o.createElement)("br",null),"and get unlimited",Object(o.createElement)("br",null),"signals -"," ",Object(o.createElement)("a",{href:"https://crowdsignal.com/pricing",target:"_blank",rel:"noopener noreferrer"},"Upgrade")),ve=function(e){var t=e.showLogo,n=e.editing;return Object(o.createElement)("div",{className:"crowdsignal-forms-poll__footer-branding"},Object(o.createElement)("div",null,Object(o.createElement)("a",{className:"crowdsignal-forms-poll__footer-cs-link",href:"https://crowdsignal.com?ref=cs-forms-poll",target:"_blank",rel:"noopener noreferrer"},Object(l.__)("Create your own poll with Crowdsignal","crowdsignal-forms")),n&&Object(o.createElement)(v.Tooltip,{text:Ee,position:"top center"},Object(o.createElement)("a",{href:"https://crowdsignal.com/pricing",target:"_blank",rel:"noopener noreferrer",className:"crowdsignal-forms__branding-promote"},Object(l.__)("Hide","crowdsignal-forms")))),t&&Object(o.createElement)("img",{className:"crowdsignal-forms-poll__footer-branding-logo",src:"https://app.crowdsignal.com/images/svg/cs-logo-dots.svg",alt:"Crowdsignal sticker"}))};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xe=function(e,t){return Object(f.map)(e,(function(e){return void 0!==e.answerIdFromApi?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{answerIdFromApi:t[e.answerId]})}))},Se=function(e){return Object(f.isEmpty)(e)||void 0===e.text||null===e.text||""===e.text},Ne=function(e){var t=e.answers,n=e.pollIdFromApi,r=e.setErrorMessage,a=e.hideBranding,c=we(n),s=c.error,i=c.loading,u=c.results;Object(_.useEffect)((function(){r(s?Object(l.__)("Unfortunately, we're having some trouble retrieving the results for this poll at this time.","crowdsignal-forms"):"")}),[s]);var d=N()("crowdsignal-forms-poll__results",{"is-error":!!s,"is-loading":i}),b=Object(f.sum)(Object(f.values)(u));return Object(o.createElement)("div",{className:d},Object(o.createElement)("div",{className:"crowdsignal-forms-poll__results-list"},Object(f.map)(t,(function(e){var t;return!Se(e)&&Object(o.createElement)(Ce,{key:e.answerId,error:!!s,loading:i,text:e.text,totalVotes:b,votes:u&&null!==(t=u[e.answerIdFromApi])&&void 0!==t?t:0})}))),Object(o.createElement)("div",{className:"crowdsignal-forms-poll__results-footer"},Object(o.createElement)("span",{className:"crowdsignal-forms-poll__results-total"},Object(l.sprintf)(Object(l._n)("%s total vote","%s total votes",b,"crowdsignal-forms"),b?b.toLocaleString():0)),!a&&Object(o.createElement)(ve,null)))};Ne.propTypes={pollIdFromApi:R.a.number,answers:R.a.arrayOf(R.a.shape({answerId:R.a.string.isRequired,answerIdFromApi:R.a.number,text:R.a.string})).isRequired,setErrorMessage:R.a.func.isRequired,hideBranding:R.a.bool};var ke=Ne,Le=n(29),Te=n.n(Le),Pe=function(e){var t=e.children;return Object(o.createElement)("div",{className:"crowdsignal-forms__style-probe"},t)},Re=function(e,t){return function(n){return Object(v.withFallbackStyles)((function(e){return{fallbackStyles:t(e.querySelector(".crowdsignal-forms__style-probe"))}}))((function(t){var r=t.fallbackStyles,l=Te()(t,["fallbackStyles"]);return Object(o.createElement)(n,w()({fallbackStyles:r||{},renderStyleProbe:function(){return r?null:Object(o.createElement)(Pe,null,Object(o.createElement)(e,null))}},l))}))}};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ie=function(e){var t=e.answer,n=e.answerStyle,r=e.index,a=e.isMultipleChoice,c=e.onChange,s=e.onDelete,i=e.onNewAnswer,d=e.disabled,b=function(e){return c(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{text:e}))},m=function(){return s(r)},p=function(){return i(r+1)},g=N()("crowdsignal-forms-poll__answer",{"is-multiple-choice":a,"is-button":ge.BUTTON===n});return Object(o.createElement)("div",{className:g},ge.RADIO===n&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)("span",{className:"crowdsignal-forms-poll__check"}),Object(o.createElement)("div",{className:"crowdsignal-forms-poll__answer-label-wrapper"},d?Object(o.createElement)("span",{className:"crowdsignal-forms-poll__answer-label"},t.text?Object(y.decodeEntities)(t.text):Object(l.__)("Enter an answer","crowdsignal-forms")):Object(o.createElement)(E.RichText,{className:"crowdsignal-forms-poll__answer-label",tagName:"span",placeholder:Object(l.__)("Enter an answer","crowdsignal-forms"),multiline:!1,preserveWhiteSpace:!1,onChange:b,onSplit:p,onReplace:f.noop,onRemove:m,value:t.text,allowedFormats:[],withoutInteractiveFormatting:!0}))),ge.BUTTON===n&&Object(o.createElement)("div",{className:"wp-block-button crowdsignal-forms-poll__block-button"},d?Object(o.createElement)("div",{className:"wp-block-button__link crowdsignal-forms-poll__submit-button"},t.text?Object(y.decodeEntities)(t.text):Object(l.__)("Enter an answer","crowdsignal-forms")):Object(o.createElement)(E.RichText,{className:"wp-block-button__link crowdsignal-forms-poll__submit-button",placeholder:Object(l.__)("Enter an answer","crowdsignal-forms"),multiline:!1,preserveWhiteSpace:!1,onChange:b,onSplit:p,onReplace:f.noop,onRemove:m,value:t.text,allowedFormats:[],withoutInteractiveFormatting:!0,keepPlaceholderOnFocus:!0})))},De=function(e,t){return Object(f.tap)(e.querySelectorAll("[role=textbox]")[t],(function(e){return e&&e.focus()}))},Be=function(e){var t=e.attributes,n=e.isSelected,r=e.setAttributes,l=e.disabled,a=e.answerStyle,c=e.buttonAlignment,i=Object(_.useRef)(),u=function(e,n){return r({answers:Object(f.tap)(s()(t.answers),(function(t){t[e]=n}))})},d=function(e){De(i.current,Math.max(e-1,0)),r({answers:Object(f.filter)(t.answers,(function(n){return t.answers.length<=2||n!==t.answers[e]}))})},b=function(e){e<t.answers.length&&r({answers:[].concat(s()(Object(f.slice)(t.answers,0,e)),[{}],s()(Object(f.slice)(t.answers,e,t.answers.length)))}),De(i.current,Math.min(e,t.answers.length))},m=n&&Object(f.last)(t.answers).text?[].concat(s()(t.answers),[{}]):t.answers,p=N()({"is-button":ge.BUTTON===a,"is-inline-button-alignment":Oe.INLINE===c},"crowdsignal-forms-poll__options"),g=ge.RADIO===a;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{ref:i,className:p},Object(f.map)(m,(function(e,r){return function(e){return n&&!l||!Se(e)}(e)&&Object(o.createElement)(Ie,{key:"poll-answer-".concat(r),answer:e,answerStyle:a,index:r,isMultipleChoice:t.isMultipleChoice,onChange:u,onDelete:d,onNewAnswer:b,disabled:l})}))),g&&Object(o.createElement)("div",{className:"crowdsignal-forms-poll__actions"},Object(o.createElement)("div",{className:"wp-block-button crowdsignal-forms-poll__block-button"},l?Object(o.createElement)("div",{className:"wp-block-button__link crowdsignal-forms-poll__submit-button"},t.submitButtonLabel):Object(o.createElement)(E.RichText,{className:"wp-block-button__link crowdsignal-forms-poll__submit-button",onChange:function(e){return r({submitButtonLabel:e})},value:t.submitButtonLabel,allowedFormats:[]}))))},Fe=function(e){return Object(f.includes)(ue,e)?fe[e]:null},Me=function(e,t){var n,r,o,l,a=Object(f.isEmpty)(e.textColor)?t.text:e.textColor;return Object(f.mapKeys)({borderColor:null!==(n=e.borderColor)&&void 0!==n?n:t.accent,borderRadius:"".concat(e.borderRadius,"px"),borderWidth:"".concat(e.borderWidth,"px"),bgColor:e.backgroundColor,bodyFontFamily:null!==(r=Fe(e.fontFamily))&&void 0!==r?r:t.bodyFontFamily,questionFontFamily:null!==(o=Fe(e.fontFamily))&&void 0!==o?o:t.questionFontFamily,submitButtonBgColor:e.submitButtonBackgroundColor||t.accent,submitButtonTextColor:e.submitButtonTextColor||t.textInverted,textColor:a,textColorProperties:null!==(l=Ve(a))&&void 0!==l?l:"0, 0, 0",contentWideWidth:t.contentWideWidth},(function(e,t){return"--crowdsignal-forms-".concat(Object(f.kebabCase)(t))}))},Ve=function(e){return!e||"string"!=typeof e||-1===e.indexOf("rgb")&&0!==e.indexOf("#")||-1<e.indexOf("rgba")?null:(0===e.indexOf("#")&&(e=He(e)),e.match(/\((.*?)\)/)[1])},He=function(e){var t=0,n=0,r=0,o=4===e.length?"#".concat(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]):e;return 7===o.length&&(t=parseInt(o.substr(1,2),16)||0,n=parseInt(o.substr(3,2),16)||0,r=parseInt(o.substr(5,2),16)||0),"rgb(".concat(t,", ").concat(n,", ").concat(r,")")},Ue=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return N()({"has-bg-color":e.backgroundColor,"has-text-color":e.textColor,"has-submit-button-bg-color":e.submitButtonBackgroundColor,"has-submit-button-text-color":e.submitButtonTextColor,"has-border-radius":null!==(t=e.borderRadius)&&void 0!==t&&t,"has-box-shadow":e.hasBoxShadow},r)},We=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;if(be.CLOSED===e)return!0;if(be.CLOSED_AFTER===e){var r=new Date(t);return r<n}return!1},ze=function(e,t){return e.isMultipleChoice?ge.RADIO:!Object(f.isEmpty)(t)&&t.indexOf("is-style-buttons")>-1?ge.BUTTON:ge.RADIO},Ze=function(e){e?Object(r.registerBlockStyle)("crowdsignal-forms/poll",{name:"buttons",label:Object(l.__)("Buttons","crowdsignal-forms")}):Object(r.unregisterBlockStyle)("crowdsignal-forms/poll","buttons")},qe=function(e){var t=e.signalWarning;return Object(o.createElement)("div",{className:"crowdsignal-forms__row"},Object(o.createElement)(v.Button,{href:"https://crowdsignal.com/pricing",isSecondary:!0,target:"_blank"},Object(l.__)("Upgrade","crowdsignal-forms")),t?Object(o.createElement)("div",{className:"crowdsignal-forms__sidebar-promote"},Object(o.createElement)("em",null,Object(l.__)("Your free Crowdsignal account has ","crowdsignal-forms"),Object(o.createElement)("strong",null,Object(o.createElement)(v.ExternalLink,{href:"https://crowdsignal.com/support/what-is-a-signal/"},Object(l.__)("reached the signals limit.","crowdsignal-forms"))))):Object(o.createElement)("div",{className:"crowdsignal-forms__sidebar-promote"},Object(o.createElement)("em",null,Object(l.__)("Hide Crowdsignal branding and get ","crowdsignal-forms"),Object(o.createElement)(v.ExternalLink,{href:"https://crowdsignal.com/support/what-is-a-signal/"},Object(l.__)("unlimited signals","crowdsignal-forms")))))},Ge=function(e){var t,n=e.attributes,r=e.className,a=e.setAttributes,c=e.fallbackBackgroundColor,s=e.fallbackTextColor,i=e.fallbackSubmitButtonBackgroundColor,u=e.fallbackSubmitButtonTextColor,d=e.viewResultsUrl,b=e.shouldPromote,m=e.signalWarning,p=""!==d,g=ze(n,r);return ie.REDIRECT===n.confirmMessageType&&(n.confirmMessageType=ie.THANK_YOU),Object(o.createElement)(E.InspectorControls,null,Object(o.createElement)(v.PanelBody,{title:Object(l.__)("Results","crowdsignal-forms"),initialOpen:!0},Object(o.createElement)("p",null,p?Object(l.__)("Manage results on ","crowdsignal-forms"):Object(l.__)("Publish this post to enable results on ","crowdsignal-forms"),Object(o.createElement)(v.ExternalLink,{href:p?d:"https://www.crowdsignal.com"},"crowdsignal.com")),Object(o.createElement)("p",null,Object(o.createElement)(v.Button,{href:d,isSecondary:!0,target:"_blank",disabled:!p},Object(l.__)("View results","crowdsignal-forms"))),Object(o.createElement)(v.TextControl,{value:Object(y.decodeEntities)(null!==(t=n.title)&&void 0!==t?t:n.question),label:Object(l.__)("Title of the poll block","crowdsignal-forms"),onChange:function(e){return a({title:e})}}),b&&Object(o.createElement)(qe,{signalWarning:m})),Object(o.createElement)(v.PanelBody,{title:Object(l.__)("Confirmation message","crowdsignal-forms"),initialOpen:!1},Object(o.createElement)(v.SelectControl,{value:n.confirmMessageType,label:Object(l.__)("On submission","crowdsignal-forms"),options:[{label:Object(l.__)("Show results","crowdsignal-forms"),value:ie.RESULTS},{label:Object(l.__)('Show "Thank You" message',"crowdsignal-forms"),value:ie.THANK_YOU},{label:Object(l.__)("Show a custom text message","crowdsignal-forms"),value:ie.CUSTOM_TEXT}],onChange:function(e){return Object(f.includes)(ie,e)&&a({confirmMessageType:e})}}),ie.CUSTOM_TEXT===n.confirmMessageType&&Object(o.createElement)(v.TextareaControl,{value:n.customConfirmMessage,label:Object(l.__)("Message text","crowdsignal-forms"),placeholder:Object(l.__)("Thanks for voting!","crowdsignal-forms"),onChange:function(e){return a({customConfirmMessage:e})}}),ie.REDIRECT===n.confirmMessageType&&Object(o.createElement)(E.URLInput,{className:"crowdsignal-forms__redirect-url",value:n.redirectAddress,label:Object(l.__)("Redirect address","crowdsignal-forms"),onChange:function(e){return a({redirectAddress:e})}})),Object(o.createElement)(v.PanelBody,{title:Object(l.__)("Poll status","crowdsignal-forms"),initialOpen:!1},Object(o.createElement)(v.SelectControl,{value:n.pollStatus,label:Object(l.__)("Currently","crowdsignal-forms"),options:[{label:Object(l.__)("Open","crowdsignal-forms"),value:be.OPEN},{label:Object(l.__)("Closed after","crowdsignal-forms"),value:be.CLOSED_AFTER},{label:Object(l.__)("Closed","crowdsignal-forms"),value:be.CLOSED}],onChange:function(e){Object(f.includes)(be,e)&&a({closedAfterDateTime:e===be.CLOSED_AFTER?new Date((new Date).getTime()+864e5).toISOString():null,pollStatus:e})}}),be.CLOSED_AFTER===n.pollStatus&&Object(o.createElement)(v.TimePicker,{currentTime:n.closedAfterDateTime,label:Object(l.__)("Close poll on","crowdsignal-forms"),onChange:function(e){var t=new Date(e);a({closedAfterDateTime:t.toISOString()})},is12Hour:!0}),be.OPEN!==n.pollStatus&&Object(o.createElement)(v.SelectControl,{value:n.closedPollState,label:Object(l.__)("When poll is closed","crowdsignal-forms"),options:[{label:Object(l.__)("Show results","crowdsignal-forms"),value:me.SHOW_RESULTS},{label:Object(l.__)('Show poll with "Closed" banner',"crowdsignal-forms"),value:me.SHOW_CLOSED_BANNER},{label:Object(l.__)("Hide poll","crowdsignal-forms"),value:me.HIDDEN}],onChange:function(e){return Object(f.includes)(me,e)&&a({closedPollState:e})}})),Object(o.createElement)(E.PanelColorSettings,{title:Object(l.__)("Block styling","crowdsignal-forms"),initialOpen:!1,colorSettings:[{value:n.textColor,onChange:function(e){return a({textColor:e})},label:Object(l.__)("Text color","crowdsignal-forms")},{value:n.backgroundColor,onChange:function(e){return a({backgroundColor:e})},label:Object(l.__)("Background color","crowdsignal-forms")},{value:n.borderColor,onChange:function(e){return a({borderColor:e})},label:Object(l.__)("Border color","crowdsignal-forms")}]},Object(o.createElement)(E.ContrastChecker,{textColor:n.textColor,backgroundColor:n.backgroundColor,fallbackBackgroundColor:c,fallbackTextColor:s}),Object(o.createElement)(v.SelectControl,{value:n.fontFamily,label:Object(l.__)("Choose font","crowdsignal-forms"),options:[{label:Object(l.__)("Default theme font","crowdsignal-forms"),value:ue.THEME_DEFAULT},{label:"Alegreya Sans",value:ue.ALEGREYA_SANS},{label:"Arial",value:ue.ARIAL},{label:"Cabin",value:ue.CABIN},{label:"Chivo",value:ue.CHIVO},{label:"Courier",value:ue.COURIER},{label:"Fira Sans",value:ue.FIRA_SANS},{label:"Georgia",value:ue.GEORGIA},{label:"Impact",value:ue.IMPACT},{label:"Josefin Sans",value:ue.JOSEFIN_SANS},{label:"Lato",value:ue.LATO},{label:"Libre Franklin",value:ue.LIBRE_FRANKLIN},{label:"Lucida",value:ue.LUCIDA},{label:"Montserrat",value:ue.MONTSERRAT},{label:"Nunito",value:ue.NUNITO},{label:"Open Sans",value:ue.OPEN_SANS},{label:"Oswald",value:ue.OSWALD},{label:"Overpass",value:ue.OVERPASS},{label:"Palatino",value:ue.PALATINO},{label:"Poppins",value:ue.POPPINS},{label:"Raleway",value:ue.RALEWAY},{label:"Roboto",value:ue.ROBOTO},{label:"Rubik",value:ue.RUBIK},{label:"Tahoma",value:ue.TAHOMA},{label:"Times New Roman",value:ue.TIMES_NEW_ROMAN},{label:"Trebuchet",value:ue.TREBUCHET},{label:"Verdana",value:ue.VERDANA}],onChange:function(e){return Object(f.includes)(ue,e)&&a({fontFamily:e})}}),"full"!==n.align&&Object(o.createElement)("div",{className:"crowdsignal-forms__row"},Object(o.createElement)(v.TextControl,{type:"number",label:Object(l.__)("Width (%)","crowdsignal-forms"),value:n.width,onChange:function(e){return a({width:parseInt(e,10)})}}),Object(o.createElement)(v.Button,{isSmall:!0,className:"crowdsignal-forms__reset-width-button",onClick:function(){return a({width:100})}},Object(l.__)("Reset","crowdsignal-forms"))),Object(o.createElement)("div",{className:"crowdsignal-forms__row"},Object(o.createElement)(v.TextControl,{label:Object(l.__)("Border thickness","crowdsignal-forms"),value:n.borderWidth,onChange:function(e){a({borderWidth:parseInt(e,10)||0})},type:"number",className:"crowdsignal-forms__small-text-input"}),Object(o.createElement)(v.TextControl,{label:Object(l.__)("Corner radius","crowdsignal-forms"),value:n.borderRadius,onChange:function(e){a({borderRadius:parseInt(e,10)||0})},type:"number",className:"crowdsignal-forms__small-text-input"})),Object(o.createElement)(v.ToggleControl,{label:Object(l.__)("Drop shadow","crowdsignal-forms"),checked:n.hasBoxShadow,onChange:function(e){a({hasBoxShadow:e})}})),Object(o.createElement)(E.PanelColorSettings,{title:Object(l.__)("Button styling","crowdsignal-forms"),initialOpen:!1,colorSettings:[{value:n.submitButtonTextColor,onChange:function(e){return a({submitButtonTextColor:e})},label:Object(l.__)("Text color","crowdsignal-forms")},{value:n.submitButtonBackgroundColor,onChange:function(e){return a({submitButtonBackgroundColor:e})},label:Object(l.__)("Background color","crowdsignal-forms")}]},Object(o.createElement)(E.ContrastChecker,{textColor:n.submitButtonTextColor,backgroundColor:n.submitButtonBackgroundColor,fallbackBackgroundColor:i,fallbackTextColor:u}),ge.BUTTON===g&&Object(o.createElement)(v.SelectControl,{value:n.buttonAlignment,label:Object(l.__)("Alignment","crowdsignal-forms"),options:[{value:Oe.LIST,label:Object(l.__)("List","crowdsignal-forms")},{value:Oe.INLINE,label:Object(l.__)("Inline","crowdsignal-forms")}],onChange:function(e){return a({buttonAlignment:e})}})),Object(o.createElement)(v.PanelBody,{title:Object(l.__)("Answer settings","crowdsignal-forms"),initialOpen:!0},Object(o.createElement)(v.CheckboxControl,{checked:n.hasOneResponsePerComputer,label:Object(l.__)("One response per computer","crowdsignal-forms"),onChange:function(e){return a({hasOneResponsePerComputer:e})}}),Object(o.createElement)(v.CheckboxControl,{checked:n.randomizeAnswers,label:Object(l.__)("Randomize answer order","crowdsignal-forms"),onChange:function(e){return a({randomizeAnswers:e})}})))};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ye=[{icon:function(){return Object(o.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("path",{d:"M20 6.75H12V5.25H20V6.75Z"}),Object(o.createElement)("path",{d:"M20 12.5H12V11H20V12.5Z"}),Object(o.createElement)("path",{d:"M20 18.75H12V17.25H20V18.75Z"}),Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 7C6.55228 7 7 6.55228 7 6C7 5.44772 6.55228 5 6 5C5.44772 5 5 5.44772 5 6C5 6.55228 5.44772 7 6 7ZM6 8C7.10457 8 8 7.10457 8 6C8 4.89543 7.10457 4 6 4C4.89543 4 4 4.89543 4 6C4 7.10457 4.89543 8 6 8Z"}),Object(o.createElement)("path",{d:"M6 12.75C6.55228 12.75 7 12.3023 7 11.75C7 11.1977 6.55228 10.75 6 10.75C5.44772 10.75 5 11.1977 5 11.75C5 12.3023 5.44772 12.75 6 12.75ZM6 13.75C7.10457 13.75 8 12.8546 8 11.75C8 10.6454 7.10457 9.75 6 9.75C4.89543 9.75 4 10.6454 4 11.75C4 12.8546 4.89543 13.75 6 13.75Z"}),Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 19C6.55228 19 7 18.5523 7 18C7 17.4477 6.55228 17 6 17C5.44772 17 5 17.4477 5 18C5 18.5523 5.44772 19 6 19ZM6 20C7.10457 20 8 19.1046 8 18C8 16.8954 7.10457 16 6 16C4.89543 16 4 16.8954 4 18C4 19.1046 4.89543 20 6 20Z"}))},title:Object(l.__)("Choose one answer","crowdsignal-forms"),value:!1},{icon:function(){return Object(o.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 10.75H5V12.75H7V10.75ZM4 9.75V13.75H8V9.75H4Z"}),Object(o.createElement)("path",{d:"M4 4H8V8H4V4Z"}),Object(o.createElement)("path",{d:"M4 16H8V20H4V16Z"}),Object(o.createElement)("path",{d:"M20 6.75H12V5.25H20V6.75Z"}),Object(o.createElement)("path",{d:"M20 12.5H12V11H20V12.5Z"}),Object(o.createElement)("path",{d:"M20 18.75H12V17.25H20V18.75Z"}))},title:Object(l.__)("Choose multiple answers","crowdsignal-forms"),value:!0}],Je=function(e){var t=e.attributes,n=e.setAttributes,r=Object(f.map)(Ye,(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{isActive:e.value===t.isMultipleChoice,onClick:function(){n({isMultipleChoice:e.value}),Ze(e.value)}})}));return Object(o.createElement)(E.BlockControls,null,Object(o.createElement)(v.Toolbar,{controls:r}))},Xe=function(e){var t=e.children;return Object(o.createElement)("div",{className:"crowdsignal-forms-poll__error-banner"},t)},$e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Qe=new Uint8Array(16);function et(){if(!$e)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $e(Qe)}for(var tt=[],nt=0;nt<256;++nt)tt.push((nt+256).toString(16).substr(1));var rt=function(e,t){var n=t||0;return(tt[e[n+0]]+tt[e[n+1]]+tt[e[n+2]]+tt[e[n+3]]+"-"+tt[e[n+4]]+tt[e[n+5]]+"-"+tt[e[n+6]]+tt[e[n+7]]+"-"+tt[e[n+8]]+tt[e[n+9]]+"-"+tt[e[n+10]]+tt[e[n+11]]+tt[e[n+12]]+tt[e[n+13]]+tt[e[n+14]]+tt[e[n+15]]).toLowerCase()};var ot=function(e,t,n){var r=(e=e||{}).random||(e.rng||et)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return rt(r)},lt=function(e){var t=e.onEditClick;return Object(o.createElement)("div",{className:"crowdsignal-forms-poll__edit-bar"},Object(o.createElement)("div",{className:"crowdsignal-forms-poll__edit-bar-message"},Object(l.__)("Warning! This poll is published. Deleting or reordering answers may cause the loss of existing responses.","crowdsignal-forms")),Object(o.createElement)("button",{className:"crowdsignal-forms-poll__edit-bar-button",onClick:function(){t()}},Object(l.__)("Edit","crowdsignal-forms")))},at=function(e){var t=e.blockIcon,n=e.blockName,r=e.children,a=function(){var e=Object(_.useState)(!0),t=j()(e,2),n=t[0],r=t[1],o=Object(_.useState)(!0),l=j()(o,2),a=l[0],c=l[1],s=function(){var e=B()(I.a.mark((function e(){var t,n,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:return t=e.sent,n=pe.CONNECTED===t||pe.NOT_VERIFIED===t,o=pe.CONNECTED===t,r(n),c(o),e.abrupt("return",{isNowConnected:n,isNowVerified:o});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.useEffect)((function(){s()}),[]),{isConnected:n,isAccountVerified:a,checkIsConnected:s}}(),c=a.isConnected,s=a.isAccountVerified,i=a.checkIsConnected,u=function(){var e=B()(I.a.mark((function e(){var t,n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c,e.next=3,i();case 3:n=e.sent,r=n.isNowConnected,o=n.isNowVerified,r||window.open("/wp-admin/admin.php?page=crowdsignal-forms-setup"),t&&!o&&window.open("https://wordpress.com/me/account");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(c&&s)return r;var d=!c,f=c&&!s;return Object(o.createElement)("div",{className:"crowdsignal-forms__connect-to-crowdsignal"},Object(o.createElement)("div",{className:"crowdsignal-forms__connect-to-crowdsignal-header"},t,Object(o.createElement)("div",{className:"crowdsignal-forms__connect-to-crowdsignal-title"},n)),Object(o.createElement)("div",{className:"crowdsignal-forms__connect-to-crowdsignal-body"},d&&Object(l.__)("You need to connect to a Crowdsignal account to collect and manage your results.","crowdsignal-forms"),f&&Object(l.__)("Please verify your WordPress.com email address in order to publish your poll.","crowdsignal-forms")),Object(o.createElement)(v.Button,{isPrimary:!0,onClick:u},d&&Object(l.__)("Connect to Crowdsignal","crowdsignal-forms"),f&&Object(l.__)("Verify or Change your Email Address","crowdsignal-forms")))};function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(e){return"crowdsignal-forms/poll"===e.name||"crowdsignal-forms/applause"===e.name||"crowdsignal-forms/vote"===e.name},ut=!1,dt=!1;!function(){if(!ut){ut=!0;var e=Object(d.select)("core/editor"),t=e.isEditedPostDirty,n=e.isEditedPostNew,r=e.isSavingPost,o=e.isCleanNewPost,l=e.getCurrentPostId,a=Object(d.dispatch)("crowdsignal-forms/polls"),c=a.setTryFetchPollData,s=a.setPollApiDataForClientId,i=a.setIsFetchingPollData,u=Object(d.select)("crowdsignal-forms/polls"),b=u.shouldTryFetchingPollData,m=u.getPollDataByClientId,p=u.isFetchingPollData;Object(d.subscribe)((function(){var e=Object(f.filter)(Object(d.select)("core/block-editor").getBlocks(),it);if(!(e.length<1)&&(!p()&&!(o()||n()||r()||t())&&l())){var a=Object(f.filter)(e,(function(e){var t=e.attributes;return t.pollId&&null===m(t.pollId)}));a.length<1||(b()?p()||(i(!0),Promise.all(Object(f.map)(a,(function(e){var t=e.attributes.pollId;return X()({path:"/crowdsignal-forms/v1/polls/".concat(t,"?cached=1"),method:"GET"}).then((function(e){return s(t,st({},e,{viewResultsUrl:"https://app.crowdsignal.com/polls/".concat(e.id,"/results")}))}),(function(){return s(t,null)}))}))).finally((function(){return i(!1)}))):c(!0))}}))}}();var ft=function(e){return function(t){var n=t.attributes,r=t.setAttributes,l=t.addPollClientId,a=t.removePollClientId;return Object(_.useEffect)((function(){return"p2tenberg"in window&&function(){if(!dt){dt=!0;var e=null,t=function(){null!==e&&clearTimeout(e),e=setTimeout((function(){return n()}),1e3+1e3*Math.random())},n=function(){var e=Object(d.select)("crowdsignal-forms/polls"),n=e.getPollClientIds,r=e.getPollDataByClientId,o=e.shouldTryFetchingPollData,l=e.isFetchingPollData,a=Object(f.filter)(n(),(function(e){return null===r(e)}));if(a.length<1)return t();var c=Object(d.dispatch)("crowdsignal-forms/polls"),s=c.setTryFetchPollData,i=c.setPollApiDataForClientId,u=c.setIsFetchingPollData;return o()?l()||(u(!0),Promise.all(Object(f.map)(a,(function(e){return X()({path:"/crowdsignal-forms/v1/polls/".concat(e,"?cached=1"),method:"GET"}).then((function(t){return i(e,st({},t,{viewResultsUrl:"https://app.crowdsignal.com/polls/".concat(t.id,"/results")}))}),(function(){return i(e,null)}))}))).finally((function(){return u(!1)}))):s(!0),t()};n()}}(),n.pollId&&l(n.pollId),function(){n.pollId&&a(n.pollId)}}),[]),function(e,t,n,r){Object(_.useEffect)((function(){if(!Object(f.isEmpty)(t))if(window.csPolls||(window.csPolls={}),window.csPolls[t])if(window.csPolls[t].indexOf(e)>-1);else{var o=Object(f.map)(n,(function(e){return Object(f.omit)(e,["answerId"])}));r({pollId:null,answers:o})}else window.csPolls[t]=[e]}),[t])}(t.clientId,n.pollId,n.answers,r),Object(o.createElement)(e,t)}},bt=function(e){return Object(x.compose)([Object(d.withSelect)((function(e,t){var n=e("crowdsignal-forms/polls"),r=n.getPollDataByClientId,o=n.shouldTryFetchingPollData,l=n.isFetchingPollData,a=t.attributes;return{pollDataFromApi:a.pollId?r(a.pollId):null,getPollDataByClientId:r,shouldTryFetchingPollData:o,isFetchingPollData:l}})),Object(d.withDispatch)((function(e){var t=e("crowdsignal-forms/polls");return{setTryFetchPollData:t.setTryFetchPollData,setPollApiDataForClientId:t.setPollApiDataForClientId,setIsFetchingPollData:t.setIsFetchingPollData,addPollClientId:t.addPollClientId,removePollClientId:t.removePollClientId}})),ft])(e)},mt=function(){return Object(o.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM12 6C12.5523 6 13 6.44772 13 7V13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13V7C11 6.44772 11.4477 6 12 6ZM12 16C12.5523 16 13 16.4477 13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16Z",fill:"var(--wp-admin-theme-color)"}))},pt=function(){return Object(o.createElement)("div",{className:"crowdsignal-forms__signal-warning"},Object(o.createElement)("div",{className:"crowdsignal-forms__signal-warning-icon"},Object(o.createElement)(mt,null)),Object(o.createElement)("div",{className:"crowdsignal-forms__signal-warning-message"},Object(l.__)("Your free Crowdsignal account has exceeded ","crowdsignal-forms"),Object(o.createElement)(v.ExternalLink,{href:"https://crowdsignal.com/support/what-is-a-signal/"},Object(l.__)("the limit of 2500 signals.","crowdsignal-forms")),Object(o.createElement)("br",null),Object(o.createElement)("strong",null,Object(o.createElement)(v.ExternalLink,{href:"https://crowdsignal.com/pricing"},Object(l.__)("Please upgrade.","crowdsignal-forms")))))};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ot=Object(x.compose)([Re((function(){return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("p",null),Object(o.createElement)("h3",null,"Question"),Object(o.createElement)("div",{className:"wp-block-button"},Object(o.createElement)("div",{className:"wp-block-button__link"})),Object(o.createElement)("div",{className:"entry-content"},Object(o.createElement)("div",{className:"alignwide"})))}),(function(e){if(null===e)return{};var t=e.querySelector(".wp-block-button__link"),n=e.querySelector("p"),r=e.querySelector("h3"),o=e.querySelector(".alignwide"),l=L(t),a=L(n),c=window.getComputedStyle(n).color;if(l===a){var s=T(t);l=s||c}return{accent:l,surface:a,text:c,bodyFontFamily:window.getComputedStyle(n).fontFamily,questionFontFamily:window.getComputedStyle(r).fontFamily,textInverted:window.getComputedStyle(t).color,contentWideWidth:window.getComputedStyle(o).maxWidth}})),bt,function(e){return function(t){var n=t.attributes,r=t.setAttributes;return Object(_.useEffect)((function(){if(!n.pollId){var e=ot();r({pollId:e})}if(Object(f.some)(n.answers,(function(e){return!e.answerId&&e.text}))){var t=Object(f.map)(n.answers,(function(e){return e.answerId||!e.text?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{answerId:ot()})}));r({answers:t})}})),Object(o.createElement)(e,t)}}])((function(e){var t=e.attributes,n=e.className,r=e.fallbackStyles,c=e.isSelected,s=e.setAttributes,i=e.renderStyleProbe,u=e.pollDataFromApi,d=Object(_.useState)(!0),b=j()(d,2),m=b[0],p=b[1],g=Object(_.useState)(""),O=j()(g,2),h=O[0],C=O[1],x=!Object(f.isEmpty)(u),S=u?u.viewResultsUrl:"",N=u?u.id:null,L={};u&&Object(f.map)(u.answers,(function(e){L[e.client_id]=e.id}));var T=c&&"full"!==t.align,P="full"!==t.align?"".concat(t.width,"%"):"auto",R=We(t.pollStatus,t.closedAfterDateTime),A=t.note||c&&m,I=R&&me.SHOW_RESULTS===t.closedPollState,D=R&&me.HIDDEN===t.closedPollState,B=je(),F=Object(f.get)(B,"capabilities").includes("hide-branding");Object(_.useEffect)((function(){return p(!x)}),[c]),Object(_.useEffect)((function(){c&&Ze(!t.isMultipleChoice)}),[t.isMultipleChoice,c]);var M=c&&x&&!m,V=ze(t,n);t.fontFamily&&function(e){if(!Object(f.isEmpty)(e)&&ue.THEME_DEFAULT!==e&&-1!==de.indexOf(e)){var t="https://fonts.googleapis.com/css2?family=".concat(e,":wght@400;600;700&display=swap");0===Object(f.filter)(Array.from(document.head.childNodes),(function(e){return"link"===e.nodeName.toLowerCase()&&e.href===t})).length&&document.head.appendChild(Object(f.tap)(document.createElement("link"),(function(e){e.type="text/css",e.rel="stylesheet",e.href=t})))}}(t.fontFamily);var H=Object(f.get)(B,["signalCount","shouldDisplay"]),U=H&&Object(f.get)(B,["signalCount","count"])>=Object(f.get)(B,["signalCount","userLimit"]);return Object(o.createElement)(at,{blockIcon:Object(o.createElement)(a,null),blockName:Object(l.__)("Crowdsignal Poll","crowdsignal-forms")},Object(o.createElement)(Je,e),Object(o.createElement)(Ge,w()({},e,{viewResultsUrl:S,shouldPromote:H,signalWarning:U})),U&&Object(o.createElement)(pt,null),Object(o.createElement)(v.ResizableBox,{className:"crowdsignal-forms-poll__resize-wrapper",size:{height:"auto",width:P},minWidth:"25%",maxWidth:"100%",enable:{left:!0,right:!0},onResizeStop:function(e,t,n){"right"!==t&&"left"!==t||s({width:Object(f.round)(n.offsetWidth/n.parentNode.offsetWidth*100)})},showHandle:T,resizeRatio:2},Object(o.createElement)("div",{className:Ue(t,n,{"is-selected-in-editor":c,"is-closed":R,"is-hidden":D},"crowdsignal-forms-poll"),style:Me(t,r)},M&&Object(o.createElement)(lt,{onEditClick:function(){p(!0)}}),h&&Object(o.createElement)(Xe,null,h),Object(o.createElement)("div",{className:"crowdsignal-forms-poll__content"},m?Object(o.createElement)(E.RichText,{tagName:"h3",className:"crowdsignal-forms-poll__question",placeholder:Object(l.__)("Enter your question","crowdsignal-forms"),onChange:function(e){return s({question:e})},value:t.question,allowedFormats:[]}):Object(o.createElement)("h3",{className:"crowdsignal-forms-poll__question"},t.question?Object(y.decodeEntities)(t.question):Object(l.__)("Enter your question","crowdsignal-forms")),A&&(m?Object(o.createElement)(E.RichText,{tagName:"p",className:"crowdsignal-forms-poll__note",placeholder:Object(l.__)("Add a note (optional)","crowdsignal-forms"),onChange:function(e){return s({note:e})},value:t.note,allowedFormats:[]}):Object(o.createElement)("p",{className:"crowdsignal-forms-poll__note"},t.note?Object(y.decodeEntities)(t.note):Object(l.__)("Add a note (optional)","crowdsignal-forms"))),!I&&Object(o.createElement)(Be,w()({},e,{setAttributes:s,disabled:!m,answerStyle:V,buttonAlignment:t.buttonAlignment})),I&&Object(o.createElement)(ke,{answers:xe(Object(f.filter)(t.answers,(function(e){return!Se(e)})),L),pollIdFromApi:N,hideBranding:F,setErrorMessage:C}),!F&&Object(o.createElement)(ve,{editing:!0})),R&&Object(o.createElement)(k,{isPollHidden:D,isPollClosed:R}),i())))})),wt={pollId:{type:"string",default:null},isMultipleChoice:{type:"boolean",default:!1},title:{type:"string",default:null},question:{type:"string",default:""},note:{type:"string",default:""},answers:{type:"array",default:[{},{},{}],items:{type:"object",properties:{answerId:{type:"string",default:null},text:{type:"string",default:""}}}},submitButtonLabel:{type:"string",default:Object(l.__)("Submit","crowdsignal-forms")},submitButtonTextColor:{type:"string"},submitButtonBackgroundColor:{type:"string"},confirmMessageType:{type:"string",default:ie.RESULTS},customConfirmMessage:{type:"string"},redirectAddress:{type:"string"},textColor:{type:"string"},backgroundColor:{type:"string"},borderColor:{type:"string"},borderWidth:{type:"number",default:2},borderRadius:{type:"number",default:0},hasBoxShadow:{type:"boolean",default:!1},fontFamily:{type:"string",default:ue.THEME_DEFAULT},hasOneResponsePerComputer:{type:"boolean",default:!1},randomizeAnswers:{type:"boolean",default:!1},align:{type:"string"},width:{type:"number",default:100},pollStatus:{type:"string",default:be.OPEN},closedPollState:{type:"string",default:me.SHOW_RESULTS},closedAfterDateTime:{type:"string",default:null},hideBranding:{type:"boolean",default:!1},buttonAlignment:{type:"string",default:Oe.LIST}},ht={title:Object(l.__)("Poll","crowdsignal-forms"),description:Object(l.__)("Create polls and get your audience’s opinion — powered by Crowdsignal.","crowdsignal-forms"),category:"crowdsignal-forms",keywords:[Object(l.__)("ask","crowdsignal-forms"),"crowdsignal",Object(l.__)("feedback","crowdsignal-forms"),Object(l.__)("form","crowdsignal-forms"),Object(l.__)("opinion","crowdsignal-forms"),Object(l.__)("poll","crowdsignal-forms"),Object(l.__)("pop","crowdsignal-forms"),Object(l.__)("question","crowdsignal-forms"),Object(l.__)("quiz","crowdsignal-forms"),Object(l.__)("research","crowdsignal-forms"),Object(l.__)("survey","crowdsignal-forms"),Object(l.__)("vote","crowdsignal-forms")],icon:Object(o.createElement)(a,null),edit:Ot,attributes:wt,supports:{align:["center","wide","full"]},getEditWrapperProps:function(e){return{"data-align":e.align}},example:{attributes:{question:Object(l.__)("How did you hear about us?","crowdsignal-forms"),answers:[{text:Object(l.__)("Search","crowdsignal-forms")},{text:Object(l.__)("Friend","crowdsignal-forms")},{text:Object(l.__)("Email","crowdsignal-forms")}]}},styles:[{name:"default",label:Object(l.__)("Default","crowdsignal-forms"),isDefault:!0}]},jt=function(){return Object(o.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("mask",{id:"maskVote","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"3",y:"3",width:"18",height:"18"},Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5999 9.525H13.3942L14.1779 5.75475L14.2027 5.49075C14.2027 5.1525 14.0624 4.839 13.8397 4.61625L12.9652 3.75L7.53666 9.18675C7.23142 9.48374 7.04992 9.89621 7.04991 10.3499H3.75V18.6824H7.05V18.6178C7.05963 19.5172 7.79834 20.25 8.69991 20.25H16.1249C16.8097 20.25 17.3954 19.8375 17.6429 19.2435L20.1344 13.4273C20.2087 13.2375 20.2499 13.0395 20.2499 12.825V11.175C20.2499 10.2675 19.5074 9.525 18.5999 9.525ZM7.05 18.6178V10.3499H7.04991C7.04991 10.35 7.04991 10.35 7.04991 10.35V18.6C7.04991 18.6059 7.04994 18.6119 7.05 18.6178ZM18.5999 12.825L16.1249 18.6H8.69986V10.35L12.2804 6.76952L11.3646 11.175H18.5999V12.825Z",fill:"white"})),Object(o.createElement)("g",{mask:"url(#maskVote)"},Object(o.createElement)("rect",{x:"1.00024",y:"1.25",width:"22",height:"22",fill:"#1E1E1E"})))},_t=Object.freeze({OPEN:"open",CLOSED:"closed",CLOSED_AFTER:"closed-after"}),Ct=(Object.freeze({CONNECTED:"connected",NOT_CONNECTED:"not-connected",NOT_VERIFIED:"not-verified"}),[{title:Object(l.__)("Small","crowdsignal-forms"),size:"small"},{title:Object(l.__)("Medium","crowdsignal-forms"),size:"medium"},{title:Object(l.__)("Large","crowdsignal-forms"),size:"large"}]),Et={position:"bottom right",isAlternate:!0,className:"crowdsignal-forms-vote__size-dropdown"},vt=function(e){var t=e.attributes,n=e.setAttributes,r=e.viewResultsUrl,a=e.signalWarning,c=e.shouldPromote,s=""!==r;return Object(o.createElement)(E.InspectorControls,null,Object(o.createElement)(v.PanelBody,{title:Object(l.__)("Results","crowdsignal-forms"),initialOpen:!0},Object(o.createElement)("p",null,s?Object(l.__)("Manage results on ","crowdsignal-forms"):Object(l.__)("Publish this post to enable results on ","crowdsignal-forms"),Object(o.createElement)(v.ExternalLink,{href:s?r:"https://www.crowdsignal.com"},"crowdsignal.com")),Object(o.createElement)("p",null,Object(o.createElement)(v.Button,{href:r,isSecondary:!0,target:"_blank",disabled:!s},Object(l.__)("View results","crowdsignal-forms"))),Object(o.createElement)(v.TextControl,{value:t.title,label:Object(l.__)("Title of the vote block","crowdsignal-forms"),onChange:function(e){return n({title:e})}}),c&&Object(o.createElement)(qe,{signalWarning:a})),Object(o.createElement)(v.PanelBody,{title:Object(l.__)("Status","crowdsignal-forms")},Object(o.createElement)(v.SelectControl,{value:t.pollStatus,label:Object(l.__)("Currently","crowdsignal-forms"),options:[{label:Object(l.__)("Open","crowdsignal-forms"),value:_t.OPEN},{label:Object(l.__)("Closed after","crowdsignal-forms"),value:_t.CLOSED_AFTER},{label:Object(l.__)("Closed","crowdsignal-forms"),value:_t.CLOSED}],onChange:function(e){Object(f.includes)(_t,e)&&n({closedAfterDateTime:e===_t.CLOSED_AFTER?new Date((new Date).getTime()+864e5).toISOString():null,pollStatus:e})}}),_t.CLOSED_AFTER===t.pollStatus&&Object(o.createElement)(v.TimePicker,{currentTime:t.closedAfterDateTime,label:Object(l.__)("Close vote block on","crowdsignal-forms"),onChange:function(e){var t=new Date(e);n({closedAfterDateTime:t.toISOString()})},is12Hour:!0})))},yt=function(){return Object(o.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1894 5.75L13.6668 5.75L13.6668 4.25H19.0002H19.7502L19.7502 5V10.3333H18.2502V6.81054L6.81072 18.25L10.3333 18.25V19.75L5 19.75H4.25V19V13.6666L5.75 13.6666L5.75 17.1894L17.1894 5.75Z"}))},xt=function(){return Object(o.createElement)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("line",{x1:"8",y1:"8.5",x2:"24",y2:"8.5",stroke:"currentColor"}),Object(o.createElement)("line",{x1:"8",y1:"15",x2:"24",y2:"15",stroke:"currentColor",strokeWidth:"2"}),Object(o.createElement)("line",{x1:"8",y1:"22.5",x2:"24",y2:"22.5",stroke:"currentColor",strokeWidth:"3"}))},St=function(){return Object(o.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("path",{d:"M12.0078 18.2266C14.7656 18.2266 16.4062 15.9531 16.4062 12.3438C16.4062 8.73438 14.75 6.5 12.0078 6.5C9.25781 6.5 7.59375 8.75 7.59375 12.3516C7.59375 15.9688 9.24219 18.2266 12.0078 18.2266ZM12.0078 16.5781C10.5078 16.5781 9.625 15 9.625 12.3438C9.625 9.73438 10.5234 8.14844 12.0078 8.14844C13.4844 8.14844 14.3672 9.71875 14.3672 12.3516C14.3672 15.0078 13.5 16.5781 12.0078 16.5781Z"}))};function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var kt=function(e){var t=e.attributes,n=e.setAttributes,r=Object(f.get)(t,"size","medium"),a=Ct,c=Object(_.useState)(!1),s=j()(c,2),i=s[0],d=s[1],b=function(){return d(!i)},m=t.hideResults?Object(l.__)("Show vote counters","crowdsignal-forms"):Object(l.__)("Hide vote counters","crowdsignal-forms");return Object(o.createElement)(E.BlockControls,null,Object(o.createElement)(v.ToolbarGroup,{isCollapsed:!0,icon:yt,label:Object(l.__)("Change block size","crowdsignal-forms"),popoverProps:Et,controls:a.map((function(e){var t=e.size;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{isActive:r===t,role:"menuitemradio",onClick:function(){return n({size:t})}})}))}),Object(o.createElement)(v.Toolbar,{controls:[{icon:xt,onClick:b},{icon:St,label:m,onClick:function(){return n({hideResults:!t.hideResults})},isActive:!t.hideResults,isPressed:!t.hideResults}]}),i&&Object(o.createElement)(v.Popover,{className:"crowdsignal-forms__border-popover",onFocusOutside:b},Object(o.createElement)("div",{className:"crowdsignal-forms__row"},Object(o.createElement)(v.TextControl,{label:Object(l.__)("Border thickness","crowdsignal-forms"),type:"number",className:"crowdsignal-forms__small-text-input",onChange:function(e){n({borderWidth:parseInt(e,10)||0})},value:t.borderWidth||0}),Object(o.createElement)(v.TextControl,{label:Object(l.__)("Corner radius","crowdsignal-forms"),type:"number",className:"crowdsignal-forms__small-text-input",onChange:function(e){n({borderRadius:parseInt(e,10)||0})},value:t.borderRadius||0}))))},Lt=function(e,t){return function(n){var r=n.attributes,l=n.setAttributes,a=Object(f.isArray)(t)?t:[t];return Object(_.useEffect)((function(){Object(f.map)(a,(function(e){if(!r[e]){var t=ot(),n={};n[e]=t,l(n)}}))})),Object(o.createElement)(e,n)}},Tt=function(e,t,n,r){return Object(_.useEffect)((function(){Object(f.isEmpty)(window.csBlockTypeCount)&&(window.csBlockTypeCount={}),Object(f.isNil)(window.csBlockTypeCount[e])&&(window.csBlockTypeCount[e]=0),window.csBlockTypeCount[e]++,null===n.title&&(1===window.csBlockTypeCount[e]?r({title:t}):r({title:"".concat(t," ").concat(window.csBlockTypeCount[e])}))}),[])},Pt=Object(x.compose)([bt])(Lt((function(e){var t=e.attributes,n=e.setAttributes,r=e.className,a=e.pollDataFromApi;Tt(e.name,Object(l.__)("Untitled Vote","crowdsignal-forms"),t,n);var c=a?a.viewResultsUrl:"",s=We(t.pollStatus,t.closedAfterDateTime),i=N()(r,"crowdsignal-forms-vote","size-".concat(t.size),{"no-results":t.hideResults,"is-closed":s}),u=function(e){return Object(f.mapKeys)({borderRadius:"".concat(e.borderRadius,"px"),borderWidth:"".concat(e.borderWidth,"px")},(function(e,t){return"--crowdsignal-forms-vote-".concat(Object(f.kebabCase)(t))}))}(t),d=je(),b=Object(f.get)(d,["signalCount","shouldDisplay"]),m=b&&Object(f.get)(d,["signalCount","count"])>=Object(f.get)(d,["signalCount","userLimit"]);return Object(o.createElement)(at,{blockIcon:null,blockName:Object(l.__)("Crowdsignal Vote","crowdsignal-forms")},Object(o.createElement)(vt,w()({},e,{shouldPromote:b,signalWarning:m,viewResultsUrl:c})),Object(o.createElement)(kt,e),Object(o.createElement)("div",{className:i,style:u},Object(o.createElement)("div",{className:"crowdsignal-forms-vote__items"},Object(o.createElement)(E.InnerBlocks,{template:[["crowdsignal-forms/vote-item",{type:"up"}],["crowdsignal-forms/vote-item",{type:"down"}]],templateInsertUpdatesSelection:!1,templateLock:"insert",allowedBlocks:["crowdsignal-forms/vote-item"],orientation:"horizontal",__experimentalMoverDirection:"horizontal"}))))}),"pollId")),Rt={pollId:{type:"string",default:null},hideBranding:{type:"boolean",default:!1},title:{type:"string",default:null},pollStatus:{type:"string",default:_t.OPEN},closedAfterDateTime:{type:"string",default:null},size:{type:"string",default:"medium"},borderWidth:{type:"number",default:1},borderRadius:{type:"number",default:5},hideResults:{type:"boolean",default:!1}},At={title:Object(l.__)("Vote","crowdsignal-forms"),description:Object(l.__)("Allow your audience to rate your work or express their opinion — powered by Crowdsignal.","crowdsignal-forms"),category:"crowdsignal-forms",keywords:[Object(l.__)("ballot","crowdsignal-forms"),Object(l.__)("button","crowdsignal-forms"),Object(l.__)("count","crowdsignal-forms"),"crowdsignal",Object(l.__)("deciding","crowdsignal-forms"),Object(l.__)("decision","crowdsignal-forms"),Object(l.__)("elect","crowdsignal-forms"),Object(l.__)("election","crowdsignal-forms"),Object(l.__)("feedback","crowdsignal-forms"),Object(l.__)("form","crowdsignal-forms"),Object(l.__)("like","crowdsignal-forms"),Object(l.__)("nero","crowdsignal-forms"),Object(l.__)("opinion","crowdsignal-forms"),Object(l.__)("poll","crowdsignal-forms"),Object(l.__)("polling","crowdsignal-forms"),Object(l.__)("rate","crowdsignal-forms"),Object(l.__)("rating","crowdsignal-forms"),Object(l.__)("research","crowdsignal-forms"),Object(l.__)("survey","crowdsignal-forms"),Object(l.__)("thumb down","crowdsignal-forms"),Object(l.__)("thumb up","crowdsignal-forms"),Object(l.__)("thumbs","crowdsignal-forms"),Object(l.__)("vote","crowdsignal-forms"),Object(l.__)("voting","crowdsignal-forms")],icon:Object(o.createElement)(jt,null),edit:Pt,save:function(){return Object(o.createElement)(E.InnerBlocks.Content,null)},attributes:Rt,example:{attributes:{className:"crowdsignal-forms-vote__example",size:"large"}}},It=function(e){var t=e.attributes,n=e.setAttributes;return Object(o.createElement)(E.InspectorControls,null,Object(o.createElement)(E.PanelColorSettings,{title:Object(l.__)("Styling","crowdsignal-forms"),initialOpen:!0,colorSettings:[{value:t.textColor,onChange:function(e){return n({textColor:e})},label:Object(l.__)("Text color","crowdsignal-forms")},{value:t.backgroundColor,onChange:function(e){return n({backgroundColor:e})},label:Object(l.__)("Background color","crowdsignal-forms")},{value:t.borderColor,onChange:function(e){return n({borderColor:e})},label:Object(l.__)("Border color","crowdsignal-forms")}]}))};function Dt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Bt(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var Ft=n(21),Mt=n.n(Ft),Vt=!1,Ht=C.a.createContext(null),Ut="entering",Wt="entered",zt=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,l=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?l?(o="exited",r.appearStatus=Ut):o=Wt:o=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:o},r.nextCallback=null,r}Dt(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ut&&n!==Wt&&(t=Ut):n!==Ut&&n!==Wt||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Ut?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[Mt.a.findDOMNode(this),r],l=o[0],a=o[1],c=this.getTimeouts(),s=r?c.appear:c.enter;!e&&!n||Vt?this.safeSetState({status:Wt},(function(){t.props.onEntered(l)})):(this.props.onEnter(l,a),this.safeSetState({status:Ut},(function(){t.props.onEntering(l,a),t.onTransitionEnd(s,(function(){t.safeSetState({status:Wt},(function(){t.props.onEntered(l,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Mt.a.findDOMNode(this);t&&!Vt?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Mt.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],l=o[0],a=o[1];this.props.addEndListener(l,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Bt(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return C.a.createElement(Ht.Provider,{value:null},"function"==typeof n?n(e,r):C.a.cloneElement(C.a.Children.only(n),r))},t}(C.a.Component);function Zt(){}zt.contextType=Ht,zt.propTypes={},zt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zt,onEntering:Zt,onEntered:Zt,onExit:Zt,onExiting:Zt,onExited:Zt},zt.UNMOUNTED="unmounted",zt.EXITED="exited",zt.ENTERING=Ut,zt.ENTERED=Wt,zt.EXITING="exiting";var qt,Gt,Kt=zt;var Yt="out-in",Jt="in-out",Xt=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},$t=((qt={})[Yt]=function(e){var t=e.current,n=e.changeState;return C.a.cloneElement(t,{in:!1,onExited:Xt(t,"onExited",(function(){n(Ut,null)}))})},qt[Jt]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,C.a.cloneElement(r,{in:!0,onEntered:Xt(r,"onEntered",(function(){n(Ut)}))})]},qt),Qt=((Gt={})[Yt]=function(e){var t=e.children,n=e.changeState;return C.a.cloneElement(t,{in:!0,onEntered:Xt(t,"onEntered",(function(){n(Wt,C.a.cloneElement(t,{in:!0}))}))})},Gt[Jt]=function(e){var t=e.current,n=e.children,r=e.changeState;return[C.a.cloneElement(t,{in:!1,onExited:Xt(t,"onExited",(function(){r(Wt,C.a.cloneElement(n,{in:!0}))}))}),C.a.cloneElement(n,{in:!0})]},Gt),en=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={status:Wt,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}Dt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===Ut&&e.mode===Jt?{status:Ut}:!t.current||(n=t.current,r=e.children,n===r||C.a.isValidElement(n)&&C.a.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:C.a.cloneElement(e.children,{in:!0})}:{status:"exiting"};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,o=this.state,l=o.status,a=o.current,c={children:n,current:a,changeState:this.changeState,status:l};switch(l){case Ut:e=Qt[r](c);break;case"exiting":e=$t[r](c);break;case Wt:e=a}return C.a.createElement(Ht.Provider,{value:{isMounting:!this.appeared}},e)},t}(C.a.Component);en.propTypes={},en.defaultProps={mode:Yt};var tn=en;function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var on=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=rn(n.className,r):n.setAttribute("class",rn(n.className&&n.className.baseVal||"",r)));var n,r}))},ln=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],l=r[1];t.removeClasses(o,"exit"),t.addClass(o,l?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],l=r[1]?"appear":"enter";t.addClass(o,l,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],l=r[1]?"appear":"enter";t.removeClasses(o,l),t.addClass(o,l,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}Dt(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,l=n.done;this.appliedClasses[t]={},r&&on(e,r),o&&on(e,o),l&&on(e,l)},n.render=function(){var e=this.props,t=(e.classNames,Bt(e,["classNames"]));return C.a.createElement(Kt,nn({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(C.a.Component);ln.defaultProps={classNames:""},ln.propTypes={};var an=ln,cn=function(e){var t=e.className,n=e.fillColor,r=void 0===n?"black":n;return Object(o.createElement)("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("g",{clipPath:"url(#clipThumbsUp)"},Object(o.createElement)("mask",{id:"maskThumbsUp","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"2",y:"-1",width:"20",height:"20"},Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.35 6.24998H13.5658L14.4366 2.06081L14.4641 1.76748C14.4641 1.39165 14.3083 1.04331 14.0608 0.795813L13.0891 -0.166687L7.05748 5.87415C6.71831 6.20415 6.51664 6.66248 6.51664 7.16665L2.84998 7.16665V16.425H6.51664V16.3333C6.51664 17.3416 7.34164 18.1666 8.34998 18.1666H16.6C17.3608 18.1666 18.0116 17.7083 18.2866 17.0483L21.055 10.5858C21.1375 10.375 21.1833 10.155 21.1833 9.91665V8.08331C21.1833 7.07498 20.3583 6.24998 19.35 6.24998ZM19.35 9.91665L16.6 16.3333H8.34998V7.16665L12.3283 3.18831L11.3108 8.08331H19.35V9.91665Z",fill:"white"})),Object(o.createElement)("g",{mask:"url(#maskThumbsUp)"},Object(o.createElement)("rect",{x:"0.999878",y:"-3.05176e-05",width:"22",height:"22",fill:r}))),Object(o.createElement)("defs",null,Object(o.createElement)("clipPath",{id:"clipThumbsUp"},Object(o.createElement)("rect",{width:"24",height:"24",fill:"white"}))))},sn=function(e){var t=e.className,n=e.fillColor,r=void 0===n?"black":n;return Object(o.createElement)("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("g",{clipPath:"url(#clipThumbsDown)"},Object(o.createElement)("mask",{id:"maskThumbsDown","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"2",y:"5",width:"20",height:"20"},Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.65002 17.75H10.4342L9.56336 21.9392L9.53586 22.2325C9.53586 22.6083 9.69169 22.9567 9.93919 23.2042L10.9109 24.1667L16.9425 18.1258C17.2817 17.7958 17.4834 17.3375 17.4834 16.8333L21.15 16.8333L21.15 7.57499H17.4834V7.66666C17.4834 6.65832 16.6584 5.83332 15.65 5.83332H7.40003C6.63919 5.83332 5.98836 6.29165 5.71336 6.95166L2.94503 13.4142C2.86253 13.625 2.81669 13.845 2.81669 14.0833V15.9167C2.81669 16.925 3.64169 17.75 4.65002 17.75ZM4.65002 14.0833L7.40002 7.66666H15.65L15.65 16.8333L11.6717 20.8117L12.6892 15.9167H4.65002V14.0833Z",fill:"white"})),Object(o.createElement)("g",{mask:"url(#maskThumbsDown)"},Object(o.createElement)("rect",{x:"23.0001",y:"24",width:"22",height:"22",transform:"rotate(-180 23.0001 24)",fill:r}))),Object(o.createElement)("defs",null,Object(o.createElement)("clipPath",{id:"clipThumbsDown"},Object(o.createElement)("rect",{width:"24",height:"24",fill:"white"}))))},un=function(e){return e?e>=1e7?"".concat(Object(f.round)(e/1e6),"M"):e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e4?"".concat(Object(f.round)(e/1e3),"K"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString():"0"},dn=function(e){var t=e.attributes,n=e.voteCount,r=e.apiAnswerId,l=e.onVote,a=e.disabled,c=e.isVotedOn,s=e.hideCount,i=e.fallbackStyles,u=e.isInEditor,d=t.className,b=t.type,m=Object(_.useState)(0),p=j()(m,2),g=p[0],O=p[1],w=function(){!a&&l&&(O(1),l(r))},h="up"===b?cn:sn,C="is-type-".concat(b),E=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N()({"has-bg-color":e.backgroundColor,"has-text-color":e.textColor,"has-border-color":e.borderColor},n)}(t,"crowdsignal-forms-vote-item",d,{"is-voted-on":c,"is-disabled":a,"is-in-editor":u},C),v=function(e,t){var n=Object(f.isEmpty)(e.textColor)?t.textColor:e.textColor,r=Object(f.isEmpty)(e.backgroundColor)?t.backgroundColor:e.backgroundColor;return Object(f.mapKeys)({borderColor:e.borderColor,bgColor:r,textColor:n,votedColor:t.accentColor},(function(e,t){return"--crowdsignal-forms-vote-".concat(Object(f.kebabCase)(t))}))}(t,i),y=n+g;return Object(o.createElement)("div",{className:E,onClick:w,onKeyPress:w,role:"button",style:v,tabIndex:0},Object(o.createElement)(h,{className:"crowdsignal-forms-vote-item__icon",fillColor:"currentColor"}),!s&&Object(o.createElement)(tn,{mode:"in-out"},Object(o.createElement)(an,{key:g,classNames:"crowdsignal-forms-vote-item__count",timeout:300},Object(o.createElement)("div",{className:"crowdsignal-forms-vote-item__count"},un(y)))))};dn.propTypes={apiAnswerId:R.a.number,className:R.a.string,disabled:R.a.bool,isVotedOn:R.a.bool,onVote:R.a.func,type:R.a.string.isRequired,voteCount:R.a.number.isRequired};var fn=dn,bn=Object(x.compose)([Re((function(){return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("p",null),Object(o.createElement)("div",{className:"wp-block-button"},Object(o.createElement)("div",{className:"wp-block-button__link"})))}),(function(e){if(null===e)return{};var t=e.querySelector(".wp-block-button__link"),n=e.querySelector("p"),r=L(t),o=L(n),l=window.getComputedStyle(n).color;if(r===o){var a=T(t);r=a||l}return{accentColor:r,textColor:l,backgroundColor:o}}))])(Lt((function(e){var t=e.attributes,n=e.className,r=e.fallbackStyles,l=e.renderStyleProbe;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(It,e),Object(o.createElement)(fn,{attributes:t,fallbackStyles:r,className:n,voteCount:0,isInEditor:!0,type:t.type}),l())}),"answerId")),mn={title:Object(l.__)("Vote Item","crowdsignal-forms"),description:Object(l.__)("Allow your audience to rate your work or express their opinion — powered by Crowdsignal.","crowdsignal-forms"),category:"crowdsignal-forms",parent:["crowdsignal-forms/vote"],icon:Object(o.createElement)(jt,null),edit:bn,attributes:{answerId:{type:"string",default:null},type:{type:"string"},textColor:{type:"string"},backgroundColor:{type:"string"},borderColor:{type:"string"}}},pn=function(e){var t=e.showBranding,n=e.referralCode;return Object(o.createElement)("div",{className:"crowdsignal-forms__branding"},t&&Object(o.createElement)("a",{className:"crowdsignal-forms__branding-link with-external-icon",href:"https://crowdsignal.com?ref=".concat(n),target:"blank",rel:"noopener noreferrer"},Object(l.__)("Powered by Crowdsignal","crowdsignal-forms")),!t&&Object(o.createElement)("span",{className:"crowdsignal-forms__branding-link"}," "))};pn.propTypes={showBranding:R.a.bool,referralCode:R.a.string.isRequired};var gn=pn,On=function(e){var t=e.active,n=e.className,r=N()("crowdsignal-forms-applause__animation",n,{"is-active":t});return Object(o.createElement)("svg",{className:r,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("g",{className:"crowdsignal-forms-applause__animation-right"},Object(o.createElement)("path",{className:"crowdsignal-forms-applause__animation-inner-fill",fillRule:"evenodd",clipRule:"evenodd",d:"M24.5287 18.5813L21.719 22.432C20.771 23.7312 18.9509 24.0157 17.6517 23.0676L9.50948 17.1265C8.6982 16.5345 8.52021 15.3957 9.11218 14.5844C9.18511 14.4845 9.26979 14.3931 9.35606 14.3119L9.19145 14.1918C8.38017 13.5998 8.20218 12.461 8.79415 11.6497C8.93571 11.4557 9.10825 11.2933 9.30319 11.1743C9.10822 10.6266 9.17716 10.0013 9.54606 9.49567C10.1123 8.71967 11.1811 8.52659 11.9839 9.03133C12.0392 8.91852 12.1004 8.81 12.1733 8.71006C12.7653 7.89878 13.9042 7.72079 14.7154 8.31276L20.3297 12.4094L20.611 10.4435C20.6949 9.84704 21.1499 9.35925 21.7392 9.23069L23.703 8.79878L25.0454 16.3547C25.1822 17.1302 24.992 17.9464 24.5287 18.5813Z"}),Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.5287 18.5813L21.719 22.432C20.771 23.7312 18.9509 24.0157 17.6517 23.0676L9.50948 17.1265C8.6982 16.5345 8.52021 15.3957 9.11218 14.5844C9.18511 14.4845 9.26979 14.3931 9.35606 14.3119L9.19145 14.1918C8.38017 13.5998 8.20218 12.461 8.79415 11.6497C8.93571 11.4557 9.10825 11.2933 9.30319 11.1743C9.10822 10.6266 9.17716 10.0013 9.54606 9.49567C10.1123 8.71967 11.1811 8.52659 11.9839 9.03133C12.0392 8.91852 12.1004 8.81 12.1733 8.71006C12.7653 7.89878 13.9042 7.72079 14.7154 8.31276L20.3297 12.4094L20.611 10.4435C20.6949 9.84704 21.1499 9.35925 21.7392 9.23069L23.703 8.79878L25.0454 16.3547C25.1822 17.1302 24.992 17.9464 24.5287 18.5813ZM23.6104 16.605L22.538 10.5434L22.0547 10.6502L21.4234 15.0093L13.8574 9.48855C13.8574 9.48855 13.4691 9.4034 13.349 9.56801C13.2288 9.73262 13.2638 9.95632 13.4284 10.0764L17.667 13.1693L16.8091 14.345L11.2301 10.2742C11.0655 10.1541 10.8418 10.189 10.7217 10.3536C10.6016 10.5182 10.6365 10.7419 10.8012 10.862L16.3802 14.9329L15.5222 16.1087L10.4782 12.4282C10.3136 12.3081 10.0899 12.343 9.96978 12.5076C9.84967 12.6722 9.88463 12.8959 10.0492 13.0161L15.0933 16.6966L14.2353 17.8723L10.7962 15.3629C10.6316 15.2428 10.4079 15.2777 10.2878 15.4423C10.1677 15.607 10.2027 15.8307 10.3673 15.9508L18.5094 21.8919C19.1561 22.3638 20.0713 22.2207 20.5431 21.5741L23.3571 17.7175C23.5888 17.4001 23.6766 16.9957 23.6104 16.605Z"})),Object(o.createElement)("g",{className:"crowdsignal-forms-applause__animation-left"},Object(o.createElement)("path",{className:"crowdsignal-forms-applause__animation-inner-fill",fillRule:"evenodd",clipRule:"evenodd",d:"M21.2292 18.7813L18.4195 22.632C17.4715 23.9312 15.6513 24.2157 14.3521 23.2676L6.20992 17.3265C5.39864 16.7345 5.22065 15.5957 5.81262 14.7844C5.88554 14.6845 5.97023 14.5931 6.0565 14.5119L5.89189 14.3918C5.08061 13.7998 4.90262 12.661 5.49459 11.8497C5.63615 11.6557 5.80869 11.4933 6.00363 11.3743C5.80866 10.8266 5.8776 10.2013 6.2465 9.69567C6.81274 8.91967 7.88153 8.72658 8.68439 9.23133C8.73968 9.11852 8.80084 9.01 8.87377 8.91006C9.46573 8.09878 10.6046 7.92079 11.4159 8.51276L17.0302 12.6094L17.3115 10.6435C17.3953 10.047 17.8504 9.55925 18.4397 9.43069L20.4034 8.99877L21.7458 16.5547C21.8826 17.3302 21.6925 18.1464 21.2292 18.7813Z"}),Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2292 18.7813L18.4195 22.632C17.4715 23.9312 15.6513 24.2157 14.3521 23.2676L6.20992 17.3265C5.39864 16.7345 5.22065 15.5957 5.81262 14.7844C5.88554 14.6845 5.97023 14.5931 6.0565 14.5119L5.89189 14.3918C5.08061 13.7998 4.90262 12.661 5.49459 11.8497C5.63615 11.6557 5.80869 11.4933 6.00363 11.3743C5.80866 10.8266 5.8776 10.2013 6.2465 9.69567C6.81274 8.91967 7.88153 8.72658 8.68439 9.23133C8.73968 9.11852 8.80084 9.01 8.87377 8.91006C9.46573 8.09878 10.6046 7.92079 11.4159 8.51276L17.0302 12.6094L17.3115 10.6435C17.3953 10.047 17.8504 9.55925 18.4397 9.43069L20.4034 8.99877L21.7458 16.5547C21.8826 17.3302 21.6925 18.1464 21.2292 18.7813ZM20.3108 16.805L19.2384 10.7434L18.7551 10.8502L18.1239 15.2093L10.5578 9.68854C10.5578 9.68854 10.1695 9.6034 10.0494 9.76801C9.92928 9.93261 9.96425 10.1563 10.1289 10.2764L14.3675 13.3692L13.5096 14.545L7.93056 10.4742C7.76595 10.354 7.54224 10.389 7.42213 10.5536C7.30202 10.7182 7.33699 10.9419 7.50159 11.062L13.0806 15.1329L12.2227 16.3087L7.17864 12.6282C7.01403 12.5081 6.79033 12.543 6.67022 12.7076C6.55011 12.8722 6.58507 13.0959 6.74968 13.216L11.7937 16.8965L10.9358 18.0723L7.49667 15.5629C7.33206 15.4428 7.10836 15.4777 6.98825 15.6423C6.86814 15.8069 6.9031 16.0307 7.06771 16.1508L15.2099 22.0919C15.8566 22.5638 16.7717 22.4207 17.2436 21.7741L20.0576 17.9175C20.2892 17.6001 20.3771 17.1957 20.3108 16.805Z"})),Object(o.createElement)("g",{className:"crowdsignal-forms-applause__animation-wave-small"},Object(o.createElement)("rect",{x:"15.4854",y:"4.42176",width:"1.5",height:"3",transform:"rotate(8 15.4854 4.42176)"}),Object(o.createElement)("rect",{x:"19.9369",y:"5.15548",width:"1.5",height:"3",transform:"rotate(43 19.9369 5.15548)"}),Object(o.createElement)("rect",{x:"11.1523",y:"4.78963",width:"1.5",height:"3",transform:"rotate(-27 11.1523 4.78963)"})),Object(o.createElement)("g",{className:"crowdsignal-forms-applause__animation-wave-large"},Object(o.createElement)("rect",{x:"23.453",y:"2.41095",width:"1.5",height:"3",transform:"rotate(38 23.453 2.41095)"}),Object(o.createElement)("rect",{x:"26.9413",y:"5.27211",width:"1.5",height:"3",transform:"rotate(73 26.9413 5.27211)"}),Object(o.createElement)("rect",{x:"19.5165",y:"0.562988",width:"1.5",height:"3",transform:"rotate(3 19.5165 0.562988)"}),Object(o.createElement)("rect",{width:"1.5",height:"3",transform:"matrix(-0.788011 0.615662 0.615662 0.788011 8.52597 2.41095)"}),Object(o.createElement)("rect",{width:"1.5",height:"3",transform:"matrix(-0.292372 0.956305 0.956305 0.292372 5.03775 5.27211)"}),Object(o.createElement)("rect",{width:"1.5",height:"3",transform:"matrix(-0.99863 0.052336 0.052336 0.99863 12.4625 0.562988)"})))},wn=function(e){var t=e.attributes,n=e.fallbackStyles,r=e.renderStyleProbe,l=t.apiPollData?t.apiPollData.id:null,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="cs-poll-".concat(e),o=Object(_.useState)(!1),l=j()(o,2),a=l[0],c=l[1],s=Object(_.useState)(!1),i=j()(s,2),u=i[0],d=i[1],f=Object(_.useState)(""),b=j()(f,2),m=b[0],p=b[1];Object(_.useEffect)((function(){t&&void 0!==M.a.get(r)&&(d(!0),p(M.a.get(r)))}),[]);var g=function(){var o=B()(I.a.mark((function o(l){var a,s,i,u=arguments;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:1,o.prev=1,c(!0),o.next=5,ne(e);case 5:return s=o.sent,o.next=8,re(s,e,l,a);case 8:d(!0),t&&(i=n?l.join(","):(new Date).getTime(),M.a.set(r,i,{sameSite:"Strict",expires:365}),p(i));case 10:return o.prev=10,c(!1),o.finish(10);case 13:case"end":return o.stop()}}),o,null,[[1,,10,13]])})));return function(e){return o.apply(this,arguments)}}();return{hasVoted:u,isVoting:a,vote:g,storedCookieValue:m}}(l,!0),c=a.hasVoted,s=a.vote,i=Object(_.useState)(0),u=j()(i,2),d=u[0],b=u[1],m=Object(_.useState)(0),p=j()(m,2),g=p[0],O=p[1],w=Object(_.useState)(null),h=j()(w,2),C=h[0],E=h[1],v=Object(_.useState)(!1),y=j()(v,2),x=y[0],S=y[1],k=Object(_.useState)(null),L=j()(k,2),T=L[0],P=L[1],R=we(l).results,A=We(t.pollStatus,t.closedAfterDateTime),D=function(){if(null!==l&&!A){T&&clearTimeout(T),S(!0),P(setTimeout((function(){S(!1)}),200));var e=g+1;O(e),b(d+1);var n=t.apiPollData.answers[0].id;null!==C&&clearTimeout(C);var r=setTimeout((function(){s([n],e),E(null),O(0)}),1e3);E(r)}},F=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N()({"has-bg-color":e.backgroundColor,"has-text-color":e.textColor,"has-border-color":e.borderColor},n)}(t,"crowdsignal-forms-applause",t.className,"size-".concat(t.size),{"is-closed":A}),V=function(e,t){var n=Object(f.isEmpty)(e.textColor)?t.text:e.textColor;return Object(f.mapKeys)({bgColor:e.backgroundColor||t.surface,textColor:n,hoverColor:t.accent,borderRadius:"".concat(e.borderRadius||0,"px"),borderWidth:"".concat(e.borderWidth||0,"px"),borderColor:e.borderColor},(function(e,t){return"--crowdsignal-forms-applause-".concat(Object(f.kebabCase)(t))}))}(t,n),H=(null!==R?Object(f.values)(R)[0]:0)+d;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{className:F,style:V,onClick:D,onKeyPress:D,role:"button",tabIndex:0},Object(o.createElement)(On,{active:x}),Object(o.createElement)("p",{className:"crowdsignal-forms-applause__count"},un(H)," Claps"),r()),Object(o.createElement)(gn,{showBranding:c&&!t.hideBranding,referralCode:"cs-forms-applause"}))};wn.propTypes={className:R.a.string};var hn=Re((function(){return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("p",null),Object(o.createElement)("div",{className:"wp-block-button"},Object(o.createElement)("div",{className:"wp-block-button__link"})))}),(function(e){if(null===e)return{};var t=e.querySelector(".wp-block-button__link"),n=e.querySelector("p"),r=L(n),o=window.getComputedStyle(n).color,l=L(t),a=T(t),c=l;return c===r&&(c=a||o),{accent:c,surface:r,text:o}}))(wn),jn=Object.freeze({OPEN:"open",CLOSED:"closed",CLOSED_AFTER:"closed-after"}),_n=[{title:Object(l.__)("Small","crowdsignal-forms"),size:"small"},{title:Object(l.__)("Medium","crowdsignal-forms"),size:"medium"},{title:Object(l.__)("Large","crowdsignal-forms"),size:"large"}],Cn={position:"bottom right",isAlternate:!0,className:"crowdsignal-forms-vote__size-dropdown"};function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var vn=function(e){var t=e.attributes,n=e.setAttributes,r=Object(f.get)(t,"size","medium"),a=_n,c=Object(_.useState)(!1),s=j()(c,2),i=s[0],d=s[1],b=function(){return d(!i)};return Object(o.createElement)(E.BlockControls,null,Object(o.createElement)(v.ToolbarGroup,{isCollapsed:!0,icon:yt,label:Object(l.__)("Change block size","crowdsignal-forms"),popoverProps:Cn,controls:a.map((function(e){var t=e.size;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{isActive:r===t,role:"menuitemradio",onClick:function(){return n({size:t})}})}))}),Object(o.createElement)(v.Toolbar,{controls:[{icon:xt,onClick:b}]}),i&&Object(o.createElement)(v.Popover,{className:"crowdsignal-forms__border-popover",onFocusOutside:b},Object(o.createElement)("div",{className:"crowdsignal-forms__row"},Object(o.createElement)(v.TextControl,{label:Object(l.__)("Border thickness","crowdsignal-forms"),type:"number",className:"crowdsignal-forms__small-text-input",onChange:function(e){n({borderWidth:parseInt(e,10)||0})},value:t.borderWidth}),Object(o.createElement)(v.TextControl,{label:Object(l.__)("Corner radius","crowdsignal-forms"),type:"number",className:"crowdsignal-forms__small-text-input",onChange:function(e){n({borderRadius:parseInt(e,10)||0})},value:t.borderRadius}))))},yn=function(e){var t=e.attributes,n=e.setAttributes,r=e.viewResultsUrl,a=e.shouldPromote,c=e.signalWarning,s=""!==r;return Object(o.createElement)(E.InspectorControls,null,Object(o.createElement)(v.PanelBody,{title:Object(l.__)("Results","crowdsignal-forms"),initialOpen:!0},Object(o.createElement)("p",null,s?Object(l.__)("Manage results on ","crowdsignal-forms"):Object(l.__)("Publish this post to enable results on ","crowdsignal-forms"),Object(o.createElement)(v.ExternalLink,{href:s?r:"https://www.crowdsignal.com"},"crowdsignal.com")),Object(o.createElement)("p",null,Object(o.createElement)(v.Button,{href:r,isSecondary:!0,target:"_blank",disabled:!s},Object(l.__)("View results","crowdsignal-forms"))),Object(o.createElement)(v.TextControl,{value:t.title,label:Object(l.__)("Title of the applause block","crowdsignal-forms"),onChange:function(e){return n({title:e})}}),a&&Object(o.createElement)(qe,{signalWarning:c})),Object(o.createElement)(v.PanelBody,{title:Object(l.__)("Status","crowdsignal-forms")},Object(o.createElement)(v.SelectControl,{value:t.pollStatus,label:Object(l.__)("Currently","crowdsignal-forms"),options:[{label:Object(l.__)("Open","crowdsignal-forms"),value:jn.OPEN},{label:Object(l.__)("Closed after","crowdsignal-forms"),value:jn.CLOSED_AFTER},{label:Object(l.__)("Closed","crowdsignal-forms"),value:jn.CLOSED}],onChange:function(e){Object(f.includes)(jn,e)&&n({closedAfterDateTime:e===jn.CLOSED_AFTER?new Date((new Date).getTime()+864e5).toISOString():null,pollStatus:e})}}),jn.CLOSED_AFTER===t.pollStatus&&Object(o.createElement)(v.TimePicker,{currentTime:t.closedAfterDateTime,label:Object(l.__)("Close applause block on","crowdsignal-forms"),onChange:function(e){var t=new Date(e);n({closedAfterDateTime:t.toISOString()})},is12Hour:!0})),Object(o.createElement)(E.PanelColorSettings,{title:Object(l.__)("Styling","crowdsignal-forms"),initialOpen:!0,colorSettings:[{value:t.textColor,onChange:function(e){return n({textColor:e})},label:Object(l.__)("Text color","crowdsignal-forms")},{value:t.backgroundColor,onChange:function(e){return n({backgroundColor:e})},label:Object(l.__)("Background color","crowdsignal-forms")},{value:t.borderColor,onChange:function(e){return n({borderColor:e})},label:Object(l.__)("Border color","crowdsignal-forms")}]}))},xn=Object(x.compose)([bt])(Lt((function(e){var t=e.attributes,n=e.setAttributes,r=e.pollDataFromApi,a=r?r.viewResultsUrl:"";Tt(e.name,Object(l.__)("Untitled Applause","crowdsignal-forms"),t,n);var c=je(),s=Object(f.get)(c,["signalCount","shouldDisplay"]),i=s&&Object(f.get)(c,["signalCount","count"])>=Object(f.get)(c,["signalCount","userLimit"]);return Object(o.createElement)(at,{blockIcon:null,blockName:Object(l.__)("Crowdsignal Applause","crowdsignal-forms")},Object(o.createElement)(yn,w()({},e,{shouldPromote:s,signalWarning:i,viewResultsUrl:a})),Object(o.createElement)(vn,e),Object(o.createElement)(hn,e))}),["pollId","answerId"])),Sn={pollId:{type:"string",default:null},hideBranding:{type:"boolean",default:!1},title:{type:"string",default:null},answerId:{type:"string",default:null},size:{type:"string",default:"medium"},pollStatus:{type:"string",default:jn.OPEN},closedAfterDateTime:{type:"string",default:null},textColor:{type:"string"},backgroundColor:{type:"string"},borderColor:{type:"string"},borderWidth:{type:"number",default:0},borderRadius:{type:"number",default:0}},Nn={title:Object(l.__)("Applause","crowdsignal-forms"),description:Object(l.__)("Let your audience cheer with a big round of applause — powered by Crowdsignal.","crowdsignal-forms"),category:"crowdsignal-forms",keywords:["crowdsignal",Object(l.__)("applause","crowdsignal-forms"),Object(l.__)("cheer","crowdsignal-forms"),Object(l.__)("cheering","crowdsignal-forms"),Object(l.__)("clap","crowdsignal-forms"),Object(l.__)("feedback","crowdsignal-forms"),Object(l.__)("kudos","crowdsignal-forms"),Object(l.__)("like","crowdsignal-forms"),Object(l.__)("opinion","crowdsignal-forms"),Object(l.__)("praise","crowdsignal-forms"),Object(l.__)("rating","crowdsignal-forms"),Object(l.__)("upvote","crowdsignal-forms"),Object(l.__)("upvoting","crowdsignal-forms"),Object(l.__)("votes","crowdsignal-forms"),Object(l.__)("voting","crowdsignal-forms")],icon:Object(o.createElement)((function(){return Object(o.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("g",{clipPath:"url(#clip0)"},Object(o.createElement)("rect",{width:"24",height:"24",fill:"white"}),Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5284 16.5813L18.7187 20.432C17.7707 21.7312 15.9506 22.0157 14.6513 21.0676L6.50915 15.1265C5.69788 14.5345 5.51988 13.3957 6.11185 12.5844C6.18478 12.4845 6.26946 12.3931 6.35573 12.3119L6.19112 12.1918C5.37984 11.5998 5.20185 10.461 5.79382 9.64968C5.93538 9.45568 6.10792 9.29329 6.30287 9.17428C6.1079 8.62662 6.17683 8.00125 6.54574 7.49567C7.11197 6.71967 8.18077 6.52659 8.98362 7.03133C9.03891 6.91852 9.10007 6.81 9.173 6.71006C9.76497 5.89878 10.9038 5.72079 11.7151 6.31276L17.3294 10.4094L17.6107 8.44349C17.6946 7.84704 18.1496 7.35925 18.7389 7.23069L20.7027 6.79878L22.045 14.3547C22.1819 15.1302 21.9917 15.9464 21.5284 16.5813ZM20.61 14.605L19.5377 8.54337L19.0543 8.65016L18.4231 13.0093L10.857 7.48855C10.857 7.48855 10.4687 7.4034 10.3486 7.56801C10.2285 7.73262 10.2635 7.95632 10.4281 8.07643L14.6667 11.1693L13.8088 12.345L8.22979 8.27416C8.06518 8.15405 7.84147 8.18902 7.72136 8.35362C7.60126 8.51823 7.63622 8.74194 7.80082 8.86204L13.3798 12.9329L12.5219 14.1087L7.47787 10.4282C7.31327 10.3081 7.08956 10.343 6.96945 10.5076C6.84934 10.6722 6.8843 10.8959 7.04891 11.0161L12.0929 14.6966L11.235 15.8723L7.7959 13.3629C7.6313 13.2428 7.40759 13.2777 7.28748 13.4423C7.16737 13.607 7.20233 13.8307 7.36694 13.9508L15.5091 19.8919C16.1558 20.3638 17.0709 20.2207 17.5428 19.5741L20.3568 15.7175C20.5884 15.4001 20.6763 14.9957 20.61 14.605Z",fill:"black"}),Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2289 16.7813L15.4192 20.632C14.4711 21.9312 12.651 22.2157 11.3518 21.2676L3.20959 15.3265C2.39831 14.7345 2.22032 13.5957 2.81229 12.7844C2.88522 12.6845 2.9699 12.5931 3.05617 12.5119L2.89156 12.3918C2.08028 11.7998 1.90229 10.661 2.49426 9.84968C2.63582 9.65567 2.80836 9.49329 3.0033 9.37428C2.80834 8.82662 2.87727 8.20125 3.24618 7.69567C3.81241 6.91967 4.88121 6.72658 5.68406 7.23133C5.73935 7.11852 5.80051 7.01 5.87344 6.91006C6.46541 6.09878 7.60427 5.92079 8.41555 6.51276L14.0298 10.6094L14.3111 8.64348C14.395 8.04703 14.85 7.55925 15.4393 7.43069L17.4031 6.99877L18.7455 14.5547C18.8823 15.3302 18.6921 16.1464 18.2289 16.7813Z",fill:"white"}),Object(o.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2289 16.7813L15.4192 20.632C14.4711 21.9312 12.651 22.2157 11.3518 21.2676L3.20959 15.3265C2.39831 14.7345 2.22032 13.5957 2.81229 12.7844C2.88522 12.6845 2.9699 12.5931 3.05617 12.5119L2.89156 12.3918C2.08028 11.7998 1.90229 10.661 2.49426 9.84968C2.63582 9.65567 2.80836 9.49329 3.0033 9.37428C2.80834 8.82662 2.87727 8.20125 3.24618 7.69567C3.81241 6.91967 4.88121 6.72658 5.68406 7.23133C5.73935 7.11852 5.80051 7.01 5.87344 6.91006C6.46541 6.09878 7.60427 5.92079 8.41555 6.51276L14.0298 10.6094L14.3111 8.64348C14.395 8.04703 14.85 7.55925 15.4393 7.43069L17.4031 6.99877L18.7455 14.5547C18.8823 15.3302 18.6921 16.1464 18.2289 16.7813ZM17.3105 14.805L16.2381 8.74337L15.7548 8.85016L15.1235 13.2093L7.55749 7.68854C7.55749 7.68854 7.16918 7.6034 7.04907 7.76801C6.92896 7.93261 6.96392 8.15632 7.12853 8.27643L11.3672 11.3692L10.5092 12.545L4.93023 8.47416C4.76562 8.35405 4.54191 8.38901 4.4218 8.55362C4.3017 8.71823 4.33666 8.94193 4.50126 9.06204L10.0803 13.1329L9.22235 14.3087L4.17831 10.6282C4.0137 10.5081 3.79 10.543 3.66989 10.7076C3.54978 10.8722 3.58474 11.0959 3.74935 11.216L8.79338 14.8965L7.93546 16.0723L4.49634 13.5629C4.33173 13.4428 4.10803 13.4777 3.98792 13.6423C3.86781 13.8069 3.90277 14.0307 4.06738 14.1508L12.2096 20.0919C12.8562 20.5638 13.7714 20.4207 14.2432 19.7741L17.0572 15.9175C17.2889 15.6001 17.3767 15.1957 17.3105 14.805Z",fill:"black"}),Object(o.createElement)("rect",{x:"12.4851",y:"1.42175",width:"1.5",height:"3",transform:"rotate(8 12.4851 1.42175)",fill:"black"}),Object(o.createElement)("rect",{x:"16.9365",y:"2.15547",width:"1.5",height:"3",transform:"rotate(43 16.9365 2.15547)",fill:"black"}),Object(o.createElement)("rect",{x:"8.15195",y:"1.78963",width:"1.5",height:"3",transform:"rotate(-27 8.15195 1.78963)",fill:"black"})),Object(o.createElement)("defs",null,Object(o.createElement)("clipPath",{id:"clip0"},Object(o.createElement)("rect",{width:"24",height:"24",fill:"white"}))))}),null),edit:xn,attributes:Sn,example:{attributes:{size:"large"}}};Object(r.registerBlockType)("crowdsignal-forms/poll",ht),Object(r.registerBlockType)("crowdsignal-forms/vote",At),Object(r.registerBlockType)("crowdsignal-forms/vote-item",mn),Object(r.registerBlockType)("crowdsignal-forms/applause",Nn)}]));